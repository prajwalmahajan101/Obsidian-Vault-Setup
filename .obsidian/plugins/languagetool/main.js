/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Wi=Object.create;var bt=Object.defineProperty;var Zi=Object.getOwnPropertyDescriptor;var Ki=Object.getOwnPropertyNames;var Ji=Object.getPrototypeOf,Xi=Object.prototype.hasOwnProperty;var Zt=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),Zn=(e,n)=>{for(var t in n)bt(e,t,{get:n[t],enumerable:!0})},Kn=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of Ki(n))!Xi.call(e,i)&&i!==t&&bt(e,i,{get:()=>n[i],enumerable:!(r=Zi(n,i))||r.enumerable});return e};var kt=(e,n,t)=>(t=e!=null?Wi(Ji(e)):{},Kn(n||!e||!e.__esModule?bt(t,"default",{value:e,enumerable:!0}):t,e)),Gi=e=>Kn(bt({},"__esModule",{value:!0}),e);var Xn=Zt((qa,Kt)=>{(function(){var e;typeof Kt!="undefined"?e=Kt.exports=r:e=function(){return this||(0,eval)("this")}(),e.format=r,e.vsprintf=t,typeof console!="undefined"&&typeof console.log=="function"&&(e.printf=n);function n(){console.log(r.apply(null,arguments))}function t(i,u){return r.apply(null,[i].concat(u))}function r(i){for(var u=1,o=[].slice.call(arguments),a=0,c=i.length,l="",s,f=!1,h,p,D=!1,C,A=function(){return o[u++]},x=function(){for(var w="";/\d/.test(i[a]);)w+=i[a++],s=i[a];return w.length>0?parseInt(w):null};a<c;++a)if(s=i[a],f)switch(f=!1,s=="."?(D=!1,s=i[++a]):s=="0"&&i[a+1]=="."?(D=!0,a+=2,s=i[a]):D=!0,C=x(),s){case"b":l+=parseInt(A(),10).toString(2);break;case"c":h=A(),typeof h=="string"||h instanceof String?l+=h:l+=String.fromCharCode(parseInt(h,10));break;case"d":l+=parseInt(A(),10);break;case"f":p=String(parseFloat(A()).toFixed(C||6)),l+=D?p:p.replace(/^0/,"");break;case"j":l+=JSON.stringify(A());break;case"o":l+="0"+parseInt(A(),10).toString(8);break;case"s":l+=A();break;case"x":l+="0x"+parseInt(A(),10).toString(16);break;case"X":l+="0x"+parseInt(A(),10).toString(16).toUpperCase();break;default:l+=s;break}else s==="%"?f=!0:l+=s;return l}})()});var Dn=Zt((Gp,Jr)=>{Jr.exports=function(n){return n!=null&&n.constructor!=null&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}});var oi=Zt((eh,ui)=>{"use strict";var Mt=Object.prototype.hasOwnProperty,ii=Object.prototype.toString,Xr=Object.defineProperty,Gr=Object.getOwnPropertyDescriptor,ei=function(n){return typeof Array.isArray=="function"?Array.isArray(n):ii.call(n)==="[object Array]"},ti=function(n){if(!n||ii.call(n)!=="[object Object]")return!1;var t=Mt.call(n,"constructor"),r=n.constructor&&n.constructor.prototype&&Mt.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!t&&!r)return!1;var i;for(i in n);return typeof i=="undefined"||Mt.call(n,i)},ni=function(n,t){Xr&&t.name==="__proto__"?Xr(n,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):n[t.name]=t.newValue},ri=function(n,t){if(t==="__proto__")if(Mt.call(n,t)){if(Gr)return Gr(n,t).value}else return;return n[t]};ui.exports=function e(){var n,t,r,i,u,o,a=arguments[0],c=1,l=arguments.length,s=!1;for(typeof a=="boolean"&&(s=a,a=arguments[1]||{},c=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});c<l;++c)if(n=arguments[c],n!=null)for(t in n)r=ri(a,t),i=ri(n,t),a!==i&&(s&&i&&(ti(i)||(u=ei(i)))?(u?(u=!1,o=r&&ei(r)?r:[]):o=r&&ti(r)?r:{},ni(a,{name:t,newValue:e(s,o,i)})):typeof i!="undefined"&&ni(a,{name:t,newValue:i}));return a}});var Pa={};Zn(Pa,{SUGGESTIONS:()=>qt,default:()=>$t});module.exports=Gi(Pa);var ce=require("obsidian");var H=require("obsidian");var Ue={children(e){return e.children},annotatetextnode(e,n){return e.type==="text"?{offset:{end:e.position.end.offset,start:e.position.start.offset},text:n.substring(e.position.start.offset,e.position.end.offset)}:null},interpretmarkup(e=""){return e}};function eu(e,n,t=Ue){let r=[];function i(u){let o=t.annotatetextnode(u,n);o!==null&&r.push(o);let a=t.children(u);a!==null&&Array.isArray(a)&&a.forEach(i)}return i(e),r}function tu(e,n,t=Ue){let r=[],i={offset:{end:0,start:0}};for(let o of n){let a=e.substring(i.offset.end,o.offset.start);r.push({interpretAs:t.interpretmarkup(a),markup:a,offset:{end:o.offset.start,start:i.offset.end}}),r.push(o),i=o}let u=e.substring(i.offset.end,e.length);return r.push({interpretAs:t.interpretmarkup(u),markup:u,offset:{end:e.length,start:i.offset.end}}),{annotation:r}}function Jn(e,n,t=Ue){let r=eu(n,e,t);return tu(e,r,t)}var La=xe(/[A-Za-z]/),Ra=xe(/[\dA-Za-z]/),za=xe(/[#-'*+\--9=?A-Z^-~]/);var Ma=xe(/\d/),Na=xe(/[\dA-Fa-f]/),ja=xe(/[!-/:-@[-`{-~]/);function ut(e){return e!==null&&e<-2}function ot(e){return e===-2||e===-1||e===32}var Ua=xe(/\p{P}|\p{S}/u),Va=xe(/\s/);function xe(e){return n;function n(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}var Gn=kt(Xn(),1),at=Object.assign(Te(Error),{eval:Te(EvalError),range:Te(RangeError),reference:Te(ReferenceError),syntax:Te(SyntaxError),type:Te(TypeError),uri:Te(URIError)});function Te(e){return n.displayName=e.displayName||e.name,n;function n(t,...r){let i=t&&(0,Gn.default)(t,...r);return new e(i)}}var Dt={}.hasOwnProperty,er={yaml:"-",toml:"+"};function Ve(e){let n=[],t=-1,r=Array.isArray(e)?e:e?[e]:["yaml"];for(;++t<r.length;)n[t]=ru(r[t]);return n}function ru(e){let n=e;if(typeof n=="string"){if(!Dt.call(er,n))throw at("Missing matter definition for `%s`",n);n={type:n,marker:er[n]}}else if(typeof n!="object")throw at("Expected matter to be an object, not `%j`",n);if(!Dt.call(n,"type"))throw at("Missing `type` in matter `%j`",n);if(!Dt.call(n,"fence")&&!Dt.call(n,"marker"))throw at("Missing `marker` or `fence` in matter `%j`",n);return n}function Xt(e){let n=Ve(e),t={},r=-1;for(;++r<n.length;){let i=n[r],u=Jt(i,"open").charCodeAt(0),o=iu(i),a=t[u];Array.isArray(a)?a.push(o):t[u]=[o]}return{flow:t}}function iu(e){let n=e.anywhere,t=e.type,r=t+"Fence",i=r+"Sequence",u=t+"Value",o={tokenize:s,partial:!0},a,c=0;return{tokenize:l,concrete:!0};function l(f,h,p){let D=this;return C;function C(E){let _=D.now();return _.column===1&&(_.line===1||n)&&(a=Jt(e,"open"),c=0,E===a.charCodeAt(c))?(f.enter(t),f.enter(r),f.enter(i),A(E)):p(E)}function A(E){return c===a.length?(f.exit(i),ot(E)?(f.enter("whitespace"),x(E)):w(E)):E===a.charCodeAt(c++)?(f.consume(E),A):p(E)}function x(E){return ot(E)?(f.consume(E),x):(f.exit("whitespace"),w(E))}function w(E){return ut(E)?(f.exit(r),f.enter("lineEnding"),f.consume(E),f.exit("lineEnding"),a=Jt(e,"close"),c=0,f.attempt(o,d,y)):p(E)}function y(E){return E===null||ut(E)?I(E):(f.enter(u),T(E))}function T(E){return E===null||ut(E)?(f.exit(u),I(E)):(f.consume(E),T)}function I(E){return E===null?p(E):(f.enter("lineEnding"),f.consume(E),f.exit("lineEnding"),f.attempt(o,d,y))}function d(E){return f.exit(t),h(E)}}function s(f,h,p){let D=0;return C;function C(y){return y===a.charCodeAt(D)?(f.enter(r),f.enter(i),A(y)):p(y)}function A(y){return D===a.length?(f.exit(i),ot(y)?(f.enter("whitespace"),x(y)):w(y)):y===a.charCodeAt(D++)?(f.consume(y),A):p(y)}function x(y){return ot(y)?(f.consume(y),x):(f.exit("whitespace"),w(y))}function w(y){return y===null||ut(y)?(f.exit(r),h(y)):p(y)}}}function Jt(e,n){return e.marker?tr(e.marker,n).repeat(3):tr(e.fence,n)}function tr(e,n){return typeof e=="string"?e:e[n]}function Gt(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function tn(e){let n=Ve(e),t={},r={},i=-1;for(;++i<n.length;){let u=n[i];t[u.type]=uu(u),r[u.type]=ou,r[u.type+"Value"]=au}return{enter:t,exit:r}}function uu(e){return n;function n(t){this.enter({type:e.type,value:""},t),this.buffer()}}function ou(e){let n=this.resume(),t=this.stack[this.stack.length-1];"value"in t,this.exit(e),t.value=n.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,"")}function au(e){this.config.enter.data.call(this,e),this.config.exit.data.call(this,e)}function nn(e){let n=[],t={},r=Ve(e),i=-1;for(;++i<r.length;){let u=r[i];t[u.type]=su(u);let o=en(u,"open");n.push({atBreak:!0,character:o.charAt(0),after:Gt(o.charAt(1))})}return{unsafe:n,handlers:t}}function su(e){let n=en(e,"open"),t=en(e,"close");return r;function r(i){return n+(i.value?`
`+i.value:"")+`
`+t}}function en(e,n){return e.marker?nr(e.marker,n).repeat(3):nr(e.fence,n)}function nr(e,n){return typeof e=="string"?e:e[n]}var lu="yaml";function wt(e){let n=this,t=e||lu,r=n.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),u=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Xt(t)),u.push(tn(t)),o.push(nn(t))}var cu={};function rn(e,n){let t=n||cu,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return ir(e,r,i)}function ir(e,n,t){if(fu(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return rr(e.children,n,t)}return Array.isArray(e)?rr(e,n,t):""}function rr(e,n,t){let r=[],i=-1;for(;++i<e.length;)r[i]=ir(e[i],n,t);return r.join("")}function fu(e){return!!(e&&typeof e=="object")}function Z(e,n,t,r){let i=e.length,u=0,o;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(n,t),e.splice(...o);else for(t&&e.splice(n,t);u<r.length;)o=r.slice(u,u+1e4),o.unshift(n,0),e.splice(...o),u+=1e4,n+=1e4}function G(e,n){return e.length>0?(Z(e,e.length,0,n),e):n}var ur={}.hasOwnProperty;function or(e){let n={},t=-1;for(;++t<e.length;)pu(n,e[t]);return n}function pu(e,n){let t;for(t in n){let i=(ur.call(e,t)?e[t]:void 0)||(e[t]={}),u=n[t],o;if(u)for(o in u){ur.call(i,o)||(i[o]=[]);let a=u[o];hu(i[o],Array.isArray(a)?a:a?[a]:[])}}}function hu(e,n){let t=-1,r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);Z(e,0,0,r)}var ar=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var ys=ye(/[A-Za-z]/),Es=ye(/[\dA-Za-z]/),As=ye(/[#-'*+\--9=?A-Z^-~]/);var Cs=ye(/\d/),bs=ye(/[\dA-Fa-f]/),ks=ye(/[!-/:-@[-`{-~]/);function un(e){return e===-2||e===-1||e===32}var Ds=ye(ar),ws=ye(/\s/);function ye(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function v(e,n,t,r){let i=r?r-1:Number.POSITIVE_INFINITY,u=0;return o;function o(c){return un(c)?(e.enter(t),a(c)):n(c)}function a(c){return un(c)&&u++<i?(e.consume(c),a):(e.exit(t),n(c))}}var sr=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var Ts=Ee(/[A-Za-z]/),Ps=Ee(/[\dA-Za-z]/),Is=Ee(/[#-'*+\--9=?A-Z^-~]/);var Ls=Ee(/\d/),Rs=Ee(/[\dA-Fa-f]/),zs=Ee(/[!-/:-@[-`{-~]/);function He(e){return e!==null&&e<-2}var Ms=Ee(sr),Ns=Ee(/\s/);function Ee(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}var lr={tokenize:mu};function mu(e){let n=e.attempt(this.parser.constructs.contentInitial,r,i),t;return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),v(e,n,"linePrefix")}function i(a){return e.enter("paragraph"),u(a)}function u(a){let c=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=c),t=c,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return He(a)?(e.consume(a),e.exit("chunkText"),u):(e.consume(a),o)}}var fr={tokenize:gu},cr={tokenize:du};function gu(e){let n=this,t=[],r=0,i,u,o;return a;function a(y){if(r<t.length){let T=t[r];return n.containerState=T[1],e.attempt(T[0].continuation,c,l)(y)}return l(y)}function c(y){if(r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,i&&w();let T=n.events.length,I=T,d;for(;I--;)if(n.events[I][0]==="exit"&&n.events[I][1].type==="chunkFlow"){d=n.events[I][1].end;break}x(r);let E=T;for(;E<n.events.length;)n.events[E][1].end=Object.assign({},d),E++;return Z(n.events,I+1,0,n.events.slice(T)),n.events.length=E,l(y)}return a(y)}function l(y){if(r===t.length){if(!i)return h(y);if(i.currentConstruct&&i.currentConstruct.concrete)return D(y);n.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(cr,s,f)(y)}function s(y){return i&&w(),x(r),h(y)}function f(y){return n.parser.lazy[n.now().line]=r!==t.length,o=n.now().offset,D(y)}function h(y){return n.containerState={},e.attempt(cr,p,D)(y)}function p(y){return r++,t.push([n.currentConstruct,n.containerState]),h(y)}function D(y){if(y===null){i&&w(),x(0),e.consume(y);return}return i=i||n.parser.flow(n.now()),e.enter("chunkFlow",{contentType:"flow",previous:u,_tokenizer:i}),C(y)}function C(y){if(y===null){A(e.exit("chunkFlow"),!0),x(0),e.consume(y);return}return He(y)?(e.consume(y),A(e.exit("chunkFlow")),r=0,n.interrupt=void 0,a):(e.consume(y),C)}function A(y,T){let I=n.sliceStream(y);if(T&&I.push(null),y.previous=u,u&&(u.next=y),u=y,i.defineSkip(y.start),i.write(I),n.parser.lazy[y.start.line]){let d=i.events.length;for(;d--;)if(i.events[d][1].start.offset<o&&(!i.events[d][1].end||i.events[d][1].end.offset>o))return;let E=n.events.length,_=E,R,Q;for(;_--;)if(n.events[_][0]==="exit"&&n.events[_][1].type==="chunkFlow"){if(R){Q=n.events[_][1].end;break}R=!0}for(x(r),d=E;d<n.events.length;)n.events[d][1].end=Object.assign({},Q),d++;Z(n.events,_+1,0,n.events.slice(E)),n.events.length=d}}function x(y){let T=t.length;for(;T-- >y;){let I=t[T];n.containerState=I[1],I[0].exit.call(n,e)}t.length=y}function w(){i.write([null]),u=void 0,i=void 0,n.containerState._closeFlow=void 0}}function du(e,n,t){return v(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}var pr=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var Ks=Ae(/[A-Za-z]/),Js=Ae(/[\dA-Za-z]/),Xs=Ae(/[#-'*+\--9=?A-Z^-~]/);var Gs=Ae(/\d/),el=Ae(/[\dA-Fa-f]/),tl=Ae(/[!-/:-@[-`{-~]/);function hr(e){return e!==null&&(e<0||e===32)}var mr=Ae(pr),gr=Ae(/\s/);function Ae(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function on(e){if(e===null||hr(e)||gr(e))return 1;if(mr(e))return 2}function qe(e,n,t){let r=[],i=-1;for(;++i<e.length;){let u=e[i].resolveAll;u&&!r.includes(u)&&(n=u(n,t),r.push(u))}return n}var st={name:"attention",tokenize:xu,resolveAll:Fu};function Fu(e,n){let t=-1,r,i,u,o,a,c,l,s;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;let f=Object.assign({},e[r][1].end),h=Object.assign({},e[t][1].start);dr(f,-c),dr(h,c),o={type:c>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:c>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[t][1].start),end:h},u={type:c>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[t][1].start)},i={type:c>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[t][1].start=Object.assign({},a.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=G(l,[["enter",e[r][1],n],["exit",e[r][1],n]])),l=G(l,[["enter",i,n],["enter",o,n],["exit",o,n],["enter",u,n]]),l=G(l,qe(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),l=G(l,[["exit",u,n],["enter",a,n],["exit",a,n],["exit",i,n]]),e[t][1].end.offset-e[t][1].start.offset?(s=2,l=G(l,[["enter",e[t][1],n],["exit",e[t][1],n]])):s=0,Z(e,r-1,t-r+3,l),t=r+l.length-s-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function xu(e,n){let t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=on(r),u;return o;function o(c){return u=c,e.enter("attentionSequence"),a(c)}function a(c){if(c===u)return e.consume(c),a;let l=e.exit("attentionSequence"),s=on(c),f=!s||s===2&&i||t.includes(c),h=!i||i===2&&s||t.includes(r);return l._open=!!(u===42?f:f&&(i||!h)),l._close=!!(u===42?h:h&&(s||!f)),n(c)}}function dr(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}var Fr=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var re=Ce(/[A-Za-z]/),ee=Ce(/[\dA-Za-z]/),xr=Ce(/[#-'*+\--9=?A-Z^-~]/);function yr(e){return e!==null&&(e<32||e===127)}var lt=Ce(/\d/),Er=Ce(/[\dA-Fa-f]/),Ar=Ce(/[!-/:-@[-`{-~]/);function B(e){return e!==null&&e<-2}function K(e){return e!==null&&(e<0||e===32)}function z(e){return e===-2||e===-1||e===32}var pl=Ce(Fr),hl=Ce(/\s/);function Ce(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}var an={name:"autolink",tokenize:yu};function yu(e,n,t){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),u}function u(p){return re(p)?(e.consume(p),o):l(p)}function o(p){return p===43||p===45||p===46||ee(p)?(r=1,a(p)):l(p)}function a(p){return p===58?(e.consume(p),r=0,c):(p===43||p===45||p===46||ee(p))&&r++<32?(e.consume(p),a):(r=0,l(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),n):p===null||p===32||p===60||yr(p)?t(p):(e.consume(p),c)}function l(p){return p===64?(e.consume(p),s):xr(p)?(e.consume(p),l):t(p)}function s(p){return ee(p)?f(p):t(p)}function f(p){return p===46?(e.consume(p),r=0,s):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),n):h(p)}function h(p){if((p===45||ee(p))&&r++<63){let D=p===45?h:f;return e.consume(p),D}return t(p)}}var be={tokenize:Eu,partial:!0};function Eu(e,n,t){return r;function r(u){return z(u)?v(e,i,"linePrefix")(u):i(u)}function i(u){return u===null||B(u)?n(u):t(u)}}var St={name:"blockQuote",tokenize:Au,continuation:{tokenize:Cu},exit:bu};function Au(e,n,t){let r=this;return i;function i(o){if(o===62){let a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),u}return t(o)}function u(o){return z(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(o))}}function Cu(e,n,t){let r=this;return i;function i(o){return z(o)?v(e,u,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):u(o)}function u(o){return e.attempt(St,n,t)(o)}}function bu(e){e.exit("blockQuote")}var Bt={name:"characterEscape",tokenize:ku};function ku(e,n,t){return r;function r(u){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(u),e.exit("escapeMarker"),i}function i(u){return Ar(u)?(e.enter("characterEscapeValue"),e.consume(u),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(u)}}var Cr=document.createElement("i");function $e(e){let n="&"+e+";";Cr.innerHTML=n;let t=Cr.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}var Ot={name:"characterReference",tokenize:Du};function Du(e,n,t){let r=this,i=0,u,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),u=31,o=ee,s(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),u=6,o=Er,s):(e.enter("characterReferenceValue"),u=7,o=lt,s(f))}function s(f){if(f===59&&i){let h=e.exit("characterReferenceValue");return o===ee&&!$e(r.sliceSerialize(h))?t(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return o(f)&&i++<u?(e.consume(f),s):t(f)}}var br={tokenize:Su,partial:!0},_t={name:"codeFenced",tokenize:wu,concrete:!0};function wu(e,n,t){let r=this,i={tokenize:I,partial:!0},u=0,o=0,a;return c;function c(d){return l(d)}function l(d){let E=r.events[r.events.length-1];return u=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,a=d,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),s(d)}function s(d){return d===a?(o++,e.consume(d),s):o<3?t(d):(e.exit("codeFencedFenceSequence"),z(d)?v(e,f,"whitespace")(d):f(d))}function f(d){return d===null||B(d)?(e.exit("codeFencedFence"),r.interrupt?n(d):e.check(br,C,T)(d)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(d))}function h(d){return d===null||B(d)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(d)):z(d)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),v(e,p,"whitespace")(d)):d===96&&d===a?t(d):(e.consume(d),h)}function p(d){return d===null||B(d)?f(d):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),D(d))}function D(d){return d===null||B(d)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(d)):d===96&&d===a?t(d):(e.consume(d),D)}function C(d){return e.attempt(i,T,A)(d)}function A(d){return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),x}function x(d){return u>0&&z(d)?v(e,w,"linePrefix",u+1)(d):w(d)}function w(d){return d===null||B(d)?e.check(br,C,T)(d):(e.enter("codeFlowValue"),y(d))}function y(d){return d===null||B(d)?(e.exit("codeFlowValue"),w(d)):(e.consume(d),y)}function T(d){return e.exit("codeFenced"),n(d)}function I(d,E,_){let R=0;return Q;function Q(P){return d.enter("lineEnding"),d.consume(P),d.exit("lineEnding"),V}function V(P){return d.enter("codeFencedFence"),z(P)?v(d,k,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):k(P)}function k(P){return P===a?(d.enter("codeFencedFenceSequence"),S(P)):_(P)}function S(P){return P===a?(R++,d.consume(P),S):R>=o?(d.exit("codeFencedFenceSequence"),z(P)?v(d,L,"whitespace")(P):L(P)):_(P)}function L(P){return P===null||B(P)?(d.exit("codeFencedFence"),E(P)):_(P)}}}function Su(e,n,t){let r=this;return i;function i(o){return o===null?t(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),u)}function u(o){return r.parser.lazy[r.now().line]?t(o):n(o)}}var ct={name:"codeIndented",tokenize:Ou},Bu={tokenize:_u,partial:!0};function Ou(e,n,t){let r=this;return i;function i(l){return e.enter("codeIndented"),v(e,u,"linePrefix",5)(l)}function u(l){let s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?o(l):t(l)}function o(l){return l===null?c(l):B(l)?e.attempt(Bu,o,c)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||B(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function c(l){return e.exit("codeIndented"),n(l)}}function _u(e,n,t){let r=this;return i;function i(o){return r.parser.lazy[r.now().line]?t(o):B(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):v(e,u,"linePrefix",5)(o)}function u(o){let a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?n(o):B(o)?i(o):t(o)}}var sn={name:"codeText",tokenize:Pu,resolve:vu,previous:Tu};function vu(e){let n=e.length-4,t=3,r,i;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)i===void 0?r!==n&&e[r][1].type!=="lineEnding"&&(i=r):(r===n||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),n-=r-i-2,r=i+2),i=void 0);return e}function Tu(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Pu(e,n,t){let r=this,i=0,u,o;return a;function a(h){return e.enter("codeText"),e.enter("codeTextSequence"),c(h)}function c(h){return h===96?(e.consume(h),i++,c):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?t(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(o=e.enter("codeTextSequence"),u=0,f(h)):B(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),s(h))}function s(h){return h===null||h===32||h===96||B(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),s)}function f(h){return h===96?(e.consume(h),u++,f):u===i?(e.exit("codeTextSequence"),e.exit("codeText"),n(h)):(o.type="codeTextData",s(h))}}function vt(e){let n={},t=-1,r,i,u,o,a,c,l;for(;++t<e.length;){for(;t in n;)t=n[t];if(r=e[t],t&&r[1].type==="chunkFlow"&&e[t-1][1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,u=0,u<c.length&&c[u][1].type==="lineEndingBlank"&&(u+=2),u<c.length&&c[u][1].type==="content"))for(;++u<c.length&&c[u][1].type!=="content";)c[u][1].type==="chunkText"&&(c[u][1]._isInFirstContentOfListItem=!0,u++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,Iu(e,t)),t=n[t],l=!0);else if(r[1]._container){for(u=t,i=void 0;u--&&(o=e[u],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=u);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,t),a.unshift(r),Z(e,i,t-i+1,a))}}return!l}function Iu(e,n){let t=e[n][1],r=e[n][2],i=n-1,u=[],o=t._tokenizer||r.parser[t.contentType](t.start),a=o.events,c=[],l={},s,f,h=-1,p=t,D=0,C=0,A=[C];for(;p;){for(;e[++i][1]!==p;);u.push(i),p._tokenizer||(s=r.sliceStream(p),p.next||s.push(null),f&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(s),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=t;++h<a.length;)a[h][0]==="exit"&&a[h-1][0]==="enter"&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(C=h+1,A.push(C),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):A.pop(),h=A.length;h--;){let x=a.slice(A[h],A[h+1]),w=u.pop();c.unshift([w,w+x.length-1]),Z(e,w,2,x)}for(h=-1;++h<c.length;)l[D+c[h][0]]=D+c[h][1],D+=c[h][1]-c[h][0]-1;return l}var ln={tokenize:zu,resolve:Ru},Lu={tokenize:Mu,partial:!0};function Ru(e){return vt(e),e}function zu(e,n){let t;return r;function r(a){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?u(a):B(a)?e.check(Lu,o,u)(a):(e.consume(a),i)}function u(a){return e.exit("chunkContent"),e.exit("content"),n(a)}function o(a){return e.consume(a),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function Mu(e,n,t){let r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),v(e,u,"linePrefix")}function u(o){if(o===null||B(o))return t(o);let a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?n(o):e.interrupt(r.parser.constructs.flow,t,n)(o)}}var kr=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var Yl=ke(/[A-Za-z]/),Ql=ke(/[\dA-Za-z]/),Wl=ke(/[#-'*+\--9=?A-Z^-~]/);function cn(e){return e!==null&&(e<32||e===127)}var Zl=ke(/\d/),Kl=ke(/[\dA-Fa-f]/),Jl=ke(/[!-/:-@[-`{-~]/);function Dr(e){return e!==null&&e<-2}function wr(e){return e!==null&&(e<0||e===32)}var Xl=ke(kr),Gl=ke(/\s/);function ke(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function Tt(e,n,t,r,i,u,o,a,c){let l=c||Number.POSITIVE_INFINITY,s=0;return f;function f(x){return x===60?(e.enter(r),e.enter(i),e.enter(u),e.consume(x),e.exit(u),h):x===null||x===32||x===41||cn(x)?t(x):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),C(x))}function h(x){return x===62?(e.enter(u),e.consume(x),e.exit(u),e.exit(i),e.exit(r),n):(e.enter(a),e.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===62?(e.exit("chunkString"),e.exit(a),h(x)):x===null||x===60||Dr(x)?t(x):(e.consume(x),x===92?D:p)}function D(x){return x===60||x===62||x===92?(e.consume(x),p):p(x)}function C(x){return!s&&(x===null||x===41||wr(x))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),n(x)):s<l&&x===40?(e.consume(x),s++,C):x===41?(e.consume(x),s--,C):x===null||x===32||x===40||cn(x)?t(x):(e.consume(x),x===92?A:C)}function A(x){return x===40||x===41||x===92?(e.consume(x),C):C(x)}}var Sr=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var uc=De(/[A-Za-z]/),oc=De(/[\dA-Za-z]/),ac=De(/[#-'*+\--9=?A-Z^-~]/);var sc=De(/\d/),lc=De(/[\dA-Fa-f]/),cc=De(/[!-/:-@[-`{-~]/);function fn(e){return e!==null&&e<-2}function Br(e){return e===-2||e===-1||e===32}var fc=De(Sr),pc=De(/\s/);function De(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function Pt(e,n,t,r,i,u){let o=this,a=0,c;return l;function l(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(u),s}function s(p){return a>999||p===null||p===91||p===93&&!c||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?t(p):p===93?(e.exit(u),e.enter(i),e.consume(p),e.exit(i),e.exit(r),n):fn(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),s):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||fn(p)||a++>999?(e.exit("chunkString"),s(p)):(e.consume(p),c||(c=!Br(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(e.consume(p),a++,f):f(p)}}var Or=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var xc=we(/[A-Za-z]/),yc=we(/[\dA-Za-z]/),Ec=we(/[#-'*+\--9=?A-Z^-~]/);var Ac=we(/\d/),Cc=we(/[\dA-Fa-f]/),bc=we(/[!-/:-@[-`{-~]/);function pn(e){return e!==null&&e<-2}var kc=we(Or),Dc=we(/\s/);function we(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function It(e,n,t,r,i,u){let o;return a;function a(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,c):t(h)}function c(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),n):(e.enter(u),l(h))}function l(h){return h===o?(e.exit(u),c(o)):h===null?t(h):pn(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),v(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),s(h))}function s(h){return h===o||h===null||pn(h)?(e.exit("chunkString"),l(h)):(e.consume(h),h===92?f:s)}function f(h){return h===o||h===92?(e.consume(h),s):s(h)}}var _r=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var Tc=Se(/[A-Za-z]/),Pc=Se(/[\dA-Za-z]/),Ic=Se(/[#-'*+\--9=?A-Z^-~]/);var Lc=Se(/\d/),Rc=Se(/[\dA-Fa-f]/),zc=Se(/[!-/:-@[-`{-~]/);function vr(e){return e!==null&&e<-2}function Tr(e){return e===-2||e===-1||e===32}var Mc=Se(_r),Nc=Se(/\s/);function Se(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function Pe(e,n){let t;return r;function r(i){return vr(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t=!0,r):Tr(i)?v(e,r,t?"linePrefix":"lineSuffix")(i):n(i)}}function de(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var hn={name:"definition",tokenize:ju},Nu={tokenize:Uu,partial:!0};function ju(e,n,t){let r=this,i;return u;function u(p){return e.enter("definition"),o(p)}function o(p){return Pt.call(r,e,a,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=de(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):t(p)}function c(p){return K(p)?Pe(e,l)(p):l(p)}function l(p){return Tt(e,s,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function s(p){return e.attempt(Nu,f,f)(p)}function f(p){return z(p)?v(e,h,"whitespace")(p):h(p)}function h(p){return p===null||B(p)?(e.exit("definition"),r.parser.defined.push(i),n(p)):t(p)}}function Uu(e,n,t){return r;function r(a){return K(a)?Pe(e,i)(a):t(a)}function i(a){return It(e,u,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function u(a){return z(a)?v(e,o,"whitespace")(a):o(a)}function o(a){return a===null||B(a)?n(a):t(a)}}var mn={name:"hardBreakEscape",tokenize:Vu};function Vu(e,n,t){return r;function r(u){return e.enter("hardBreakEscape"),e.consume(u),i}function i(u){return B(u)?(e.exit("hardBreakEscape"),n(u)):t(u)}}var gn={name:"headingAtx",tokenize:qu,resolve:Hu};function Hu(e,n){let t=e.length-2,r=3,i,u;return e[r][1].type==="whitespace"&&(r+=2),t-2>r&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&e[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[t][1].end},u={type:"chunkText",start:e[r][1].start,end:e[t][1].end,contentType:"text"},Z(e,r,t-r+1,[["enter",i,n],["enter",u,n],["exit",u,n],["exit",i,n]])),e}function qu(e,n,t){let r=0;return i;function i(s){return e.enter("atxHeading"),u(s)}function u(s){return e.enter("atxHeadingSequence"),o(s)}function o(s){return s===35&&r++<6?(e.consume(s),o):s===null||K(s)?(e.exit("atxHeadingSequence"),a(s)):t(s)}function a(s){return s===35?(e.enter("atxHeadingSequence"),c(s)):s===null||B(s)?(e.exit("atxHeading"),n(s)):z(s)?v(e,a,"whitespace")(s):(e.enter("atxHeadingText"),l(s))}function c(s){return s===35?(e.consume(s),c):(e.exit("atxHeadingSequence"),a(s))}function l(s){return s===null||s===35||K(s)?(e.exit("atxHeadingText"),a(s)):(e.consume(s),l)}}var Pr=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],dn=["pre","script","style","textarea"];var Fn={name:"htmlFlow",tokenize:Wu,resolveTo:Qu,concrete:!0},$u={tokenize:Ku,partial:!0},Yu={tokenize:Zu,partial:!0};function Qu(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function Wu(e,n,t){let r=this,i,u,o,a,c;return l;function l(g){return s(g)}function s(g){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(g),f}function f(g){return g===33?(e.consume(g),h):g===47?(e.consume(g),u=!0,C):g===63?(e.consume(g),i=3,r.interrupt?n:m):re(g)?(e.consume(g),o=String.fromCharCode(g),A):t(g)}function h(g){return g===45?(e.consume(g),i=2,p):g===91?(e.consume(g),i=5,a=0,D):re(g)?(e.consume(g),i=4,r.interrupt?n:m):t(g)}function p(g){return g===45?(e.consume(g),r.interrupt?n:m):t(g)}function D(g){let ne="CDATA[";return g===ne.charCodeAt(a++)?(e.consume(g),a===ne.length?r.interrupt?n:k:D):t(g)}function C(g){return re(g)?(e.consume(g),o=String.fromCharCode(g),A):t(g)}function A(g){if(g===null||g===47||g===62||K(g)){let ne=g===47,Ne=o.toLowerCase();return!ne&&!u&&dn.includes(Ne)?(i=1,r.interrupt?n(g):k(g)):Pr.includes(o.toLowerCase())?(i=6,ne?(e.consume(g),x):r.interrupt?n(g):k(g)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(g):u?w(g):y(g))}return g===45||ee(g)?(e.consume(g),o+=String.fromCharCode(g),A):t(g)}function x(g){return g===62?(e.consume(g),r.interrupt?n:k):t(g)}function w(g){return z(g)?(e.consume(g),w):Q(g)}function y(g){return g===47?(e.consume(g),Q):g===58||g===95||re(g)?(e.consume(g),T):z(g)?(e.consume(g),y):Q(g)}function T(g){return g===45||g===46||g===58||g===95||ee(g)?(e.consume(g),T):I(g)}function I(g){return g===61?(e.consume(g),d):z(g)?(e.consume(g),I):y(g)}function d(g){return g===null||g===60||g===61||g===62||g===96?t(g):g===34||g===39?(e.consume(g),c=g,E):z(g)?(e.consume(g),d):_(g)}function E(g){return g===c?(e.consume(g),c=null,R):g===null||B(g)?t(g):(e.consume(g),E)}function _(g){return g===null||g===34||g===39||g===47||g===60||g===61||g===62||g===96||K(g)?I(g):(e.consume(g),_)}function R(g){return g===47||g===62||z(g)?y(g):t(g)}function Q(g){return g===62?(e.consume(g),V):t(g)}function V(g){return g===null||B(g)?k(g):z(g)?(e.consume(g),V):t(g)}function k(g){return g===45&&i===2?(e.consume(g),q):g===60&&i===1?(e.consume(g),Y):g===62&&i===4?(e.consume(g),ie):g===63&&i===3?(e.consume(g),m):g===93&&i===5?(e.consume(g),fe):B(g)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check($u,pe,S)(g)):g===null||B(g)?(e.exit("htmlFlowData"),S(g)):(e.consume(g),k)}function S(g){return e.check(Yu,L,pe)(g)}function L(g){return e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),P}function P(g){return g===null||B(g)?S(g):(e.enter("htmlFlowData"),k(g))}function q(g){return g===45?(e.consume(g),m):k(g)}function Y(g){return g===47?(e.consume(g),o="",ae):k(g)}function ae(g){if(g===62){let ne=o.toLowerCase();return dn.includes(ne)?(e.consume(g),ie):k(g)}return re(g)&&o.length<8?(e.consume(g),o+=String.fromCharCode(g),ae):k(g)}function fe(g){return g===93?(e.consume(g),m):k(g)}function m(g){return g===62?(e.consume(g),ie):g===45&&i===2?(e.consume(g),m):k(g)}function ie(g){return g===null||B(g)?(e.exit("htmlFlowData"),pe(g)):(e.consume(g),ie)}function pe(g){return e.exit("htmlFlow"),n(g)}}function Zu(e,n,t){let r=this;return i;function i(o){return B(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),u):t(o)}function u(o){return r.parser.lazy[r.now().line]?t(o):n(o)}}function Ku(e,n,t){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(be,n,t)}}var xn={name:"htmlText",tokenize:Ju};function Ju(e,n,t){let r=this,i,u,o;return a;function a(m){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(m),c}function c(m){return m===33?(e.consume(m),l):m===47?(e.consume(m),I):m===63?(e.consume(m),y):re(m)?(e.consume(m),_):t(m)}function l(m){return m===45?(e.consume(m),s):m===91?(e.consume(m),u=0,D):re(m)?(e.consume(m),w):t(m)}function s(m){return m===45?(e.consume(m),p):t(m)}function f(m){return m===null?t(m):m===45?(e.consume(m),h):B(m)?(o=f,Y(m)):(e.consume(m),f)}function h(m){return m===45?(e.consume(m),p):f(m)}function p(m){return m===62?q(m):m===45?h(m):f(m)}function D(m){let ie="CDATA[";return m===ie.charCodeAt(u++)?(e.consume(m),u===ie.length?C:D):t(m)}function C(m){return m===null?t(m):m===93?(e.consume(m),A):B(m)?(o=C,Y(m)):(e.consume(m),C)}function A(m){return m===93?(e.consume(m),x):C(m)}function x(m){return m===62?q(m):m===93?(e.consume(m),x):C(m)}function w(m){return m===null||m===62?q(m):B(m)?(o=w,Y(m)):(e.consume(m),w)}function y(m){return m===null?t(m):m===63?(e.consume(m),T):B(m)?(o=y,Y(m)):(e.consume(m),y)}function T(m){return m===62?q(m):y(m)}function I(m){return re(m)?(e.consume(m),d):t(m)}function d(m){return m===45||ee(m)?(e.consume(m),d):E(m)}function E(m){return B(m)?(o=E,Y(m)):z(m)?(e.consume(m),E):q(m)}function _(m){return m===45||ee(m)?(e.consume(m),_):m===47||m===62||K(m)?R(m):t(m)}function R(m){return m===47?(e.consume(m),q):m===58||m===95||re(m)?(e.consume(m),Q):B(m)?(o=R,Y(m)):z(m)?(e.consume(m),R):q(m)}function Q(m){return m===45||m===46||m===58||m===95||ee(m)?(e.consume(m),Q):V(m)}function V(m){return m===61?(e.consume(m),k):B(m)?(o=V,Y(m)):z(m)?(e.consume(m),V):R(m)}function k(m){return m===null||m===60||m===61||m===62||m===96?t(m):m===34||m===39?(e.consume(m),i=m,S):B(m)?(o=k,Y(m)):z(m)?(e.consume(m),k):(e.consume(m),L)}function S(m){return m===i?(e.consume(m),i=void 0,P):m===null?t(m):B(m)?(o=S,Y(m)):(e.consume(m),S)}function L(m){return m===null||m===34||m===39||m===60||m===61||m===96?t(m):m===47||m===62||K(m)?R(m):(e.consume(m),L)}function P(m){return m===47||m===62||K(m)?R(m):t(m)}function q(m){return m===62?(e.consume(m),e.exit("htmlTextData"),e.exit("htmlText"),n):t(m)}function Y(m){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),ae}function ae(m){return z(m)?v(e,fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):fe(m)}function fe(m){return e.enter("htmlTextData"),o(m)}}var Ie={name:"labelEnd",tokenize:ro,resolveTo:no,resolveAll:to},Xu={tokenize:io},Gu={tokenize:uo},eo={tokenize:oo};function to(e){let n=-1;for(;++n<e.length;){let t=e[n][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(e.splice(n+1,t.type==="labelImage"?4:2),t.type="data",n++)}return e}function no(e,n){let t=e.length,r=0,i,u,o,a;for(;t--;)if(i=e[t][1],u){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(u=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=t);let c={type:e[u][1].type==="labelLink"?"link":"image",start:Object.assign({},e[u][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[u][1].start),end:Object.assign({},e[o][1].end)},s={type:"labelText",start:Object.assign({},e[u+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",c,n],["enter",l,n]],a=G(a,e.slice(u+1,u+r+3)),a=G(a,[["enter",s,n]]),a=G(a,qe(n.parser.constructs.insideSpan.null,e.slice(u+r+4,o-3),n)),a=G(a,[["exit",s,n],e[o-2],e[o-1],["exit",l,n]]),a=G(a,e.slice(o+1)),a=G(a,[["exit",c,n]]),Z(e,u,e.length,a),e}function ro(e,n,t){let r=this,i=r.events.length,u,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){u=r.events[i][1];break}return a;function a(h){return u?u._inactive?f(h):(o=r.parser.defined.includes(de(r.sliceSerialize({start:u.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):t(h)}function c(h){return h===40?e.attempt(Xu,s,o?s:f)(h):h===91?e.attempt(Gu,s,o?l:f)(h):o?s(h):f(h)}function l(h){return e.attempt(eo,s,f)(h)}function s(h){return n(h)}function f(h){return u._balanced=!0,t(h)}}function io(e,n,t){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return K(f)?Pe(e,u)(f):u(f)}function u(f){return f===41?s(f):Tt(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return K(f)?Pe(e,c)(f):s(f)}function a(f){return t(f)}function c(f){return f===34||f===39||f===40?It(e,l,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):s(f)}function l(f){return K(f)?Pe(e,s)(f):s(f)}function s(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),n):t(f)}}function uo(e,n,t){let r=this;return i;function i(a){return Pt.call(r,e,u,o,"reference","referenceMarker","referenceString")(a)}function u(a){return r.parser.defined.includes(de(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(a):t(a)}function o(a){return t(a)}}function oo(e,n,t){return r;function r(u){return e.enter("reference"),e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),i}function i(u){return u===93?(e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),e.exit("reference"),n):t(u)}}var yn={name:"labelStartImage",tokenize:ao,resolveAll:Ie.resolveAll};function ao(e,n,t){let r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),u}function u(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):t(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):n(a)}}var En={name:"labelStartLink",tokenize:so,resolveAll:Ie.resolveAll};function so(e,n,t){let r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),u}function u(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(o):n(o)}}var ft={name:"lineEnding",tokenize:lo};function lo(e,n){return t;function t(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),v(e,n,"linePrefix")}}var Le={name:"thematicBreak",tokenize:co};function co(e,n,t){let r=0,i;return u;function u(l){return e.enter("thematicBreak"),o(l)}function o(l){return i=l,a(l)}function a(l){return l===i?(e.enter("thematicBreakSequence"),c(l)):r>=3&&(l===null||B(l))?(e.exit("thematicBreak"),n(l)):t(l)}function c(l){return l===i?(e.consume(l),r++,c):(e.exit("thematicBreakSequence"),z(l)?v(e,a,"whitespace")(l):a(l))}}var J={name:"list",tokenize:ho,continuation:{tokenize:mo},exit:Fo},fo={tokenize:xo,partial:!0},po={tokenize:go,partial:!0};function ho(e,n,t){let r=this,i=r.events[r.events.length-1],u=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){let D=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(D==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:lt(p)){if(r.containerState.type||(r.containerState.type=D,e.enter(D,{_container:!0})),D==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(Le,t,l)(p):l(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return t(p)}function c(p){return lt(p)&&++o<10?(e.consume(p),c):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),l(p)):t(p)}function l(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(be,r.interrupt?t:s,e.attempt(fo,h,f))}function s(p){return r.containerState.initialBlankLine=!0,u++,h(p)}function f(p){return z(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):t(p)}function h(p){return r.containerState.size=u+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(p)}}function mo(e,n,t){let r=this;return r.containerState._closeFlow=void 0,e.check(be,i,u);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,v(e,n,"listItemIndent",r.containerState.size+1)(a)}function u(a){return r.containerState.furtherBlankLines||!z(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(po,n,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,v(e,e.attempt(J,n,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function go(e,n,t){let r=this;return v(e,i,"listItemIndent",r.containerState.size+1);function i(u){let o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?n(u):t(u)}}function Fo(e){e.exit(this.containerState.type)}function xo(e,n,t){let r=this;return v(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(u){let o=r.events[r.events.length-1];return!z(u)&&o&&o[1].type==="listItemPrefixWhitespace"?n(u):t(u)}}var Lt={name:"setextUnderline",tokenize:Eo,resolveTo:yo};function yo(e,n){let t=e.length,r,i,u;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){r=t;break}e[t][1].type==="paragraph"&&(i=t)}else e[t][1].type==="content"&&e.splice(t,1),!u&&e[t][1].type==="definition"&&(u=t);let o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",u?(e.splice(i,0,["enter",o,n]),e.splice(u+1,0,["exit",e[r][1],n]),e[r][1].end=Object.assign({},e[u][1].end)):e[r][1]=o,e.push(["exit",o,n]),e}function Eo(e,n,t){let r=this,i;return u;function u(l){let s=r.events.length,f;for(;s--;)if(r.events[s][1].type!=="lineEnding"&&r.events[s][1].type!=="linePrefix"&&r.events[s][1].type!=="content"){f=r.events[s][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=l,o(l)):t(l)}function o(l){return e.enter("setextHeadingLineSequence"),a(l)}function a(l){return l===i?(e.consume(l),a):(e.exit("setextHeadingLineSequence"),z(l)?v(e,c,"lineSuffix")(l):c(l))}function c(l){return l===null||B(l)?(e.exit("setextHeadingLine"),n(l)):t(l)}}var Ir={tokenize:Ao};function Ao(e){let n=this,t=e.attempt(be,r,e.attempt(this.parser.constructs.flowInitial,i,v(e,e.attempt(this.parser.constructs.flow,i,e.attempt(ln,i)),"linePrefix")));return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEndingBlank"),e.consume(u),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function i(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),n.currentConstruct=void 0,t}}var Lr={resolveAll:Nr()},Rr=Mr("string"),zr=Mr("text");function Mr(e){return{tokenize:n,resolveAll:Nr(e==="text"?Co:void 0)};function n(t){let r=this,i=this.parser.constructs[e],u=t.attempt(i,o,a);return o;function o(s){return l(s)?u(s):a(s)}function a(s){if(s===null){t.consume(s);return}return t.enter("data"),t.consume(s),c}function c(s){return l(s)?(t.exit("data"),u(s)):(t.consume(s),c)}function l(s){if(s===null)return!0;let f=i[s],h=-1;if(f)for(;++h<f.length;){let p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function Nr(e){return n;function n(t,r){let i=-1,u;for(;++i<=t.length;)u===void 0?t[i]&&t[i][1].type==="data"&&(u=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==u+2&&(t[u][1].end=t[i-1][1].end,t.splice(u+2,i-u-2),i=u+2),u=void 0);return e?e(t,r):t}}function Co(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){let r=e[t-1][1],i=n.sliceStream(r),u=i.length,o=-1,a=0,c;for(;u--;){let l=i[u];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)c=!0,a++;else if(l!==-1){u++;break}}if(a){let l={type:t===e.length||c||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+u,_bufferIndex:u?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(t,0,["enter",l,n],["exit",l,n]),t+=2)}t++}return e}function jr(e,n,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),i={},u=[],o=[],a=[],c=!0,l={consume:T,enter:I,exit:d,attempt:R(E),check:R(_),interrupt:R(_,{interrupt:!0})},s={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:C,sliceSerialize:D,now:A,defineSkip:x,write:p},f=n.tokenize.call(s,l),h;return n.resolveAll&&u.push(n),s;function p(S){return o=G(o,S),w(),o[o.length-1]!==null?[]:(Q(n,0),s.events=qe(u,s.events,s),s.events)}function D(S,L){return ko(C(S),L)}function C(S){return bo(o,S)}function A(){let{line:S,column:L,offset:P,_index:q,_bufferIndex:Y}=r;return{line:S,column:L,offset:P,_index:q,_bufferIndex:Y}}function x(S){i[S.line]=S.column,k()}function w(){let S;for(;r._index<o.length;){let L=o[r._index];if(typeof L=="string")for(S=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===S&&r._bufferIndex<L.length;)y(L.charCodeAt(r._bufferIndex));else y(L)}}function y(S){c=void 0,h=S,f=f(S)}function T(S){He(S)?(r.line++,r.column=1,r.offset+=S===-3?2:1,k()):S!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),s.previous=S,c=!0}function I(S,L){let P=L||{};return P.type=S,P.start=A(),s.events.push(["enter",P,s]),a.push(P),P}function d(S){let L=a.pop();return L.end=A(),s.events.push(["exit",L,s]),L}function E(S,L){Q(S,L.from)}function _(S,L){L.restore()}function R(S,L){return P;function P(q,Y,ae){let fe,m,ie,pe;return Array.isArray(q)?ne(q):"tokenize"in q?ne([q]):g(q);function g(W){return nt;function nt(he){let je=he!==null&&W[he],ve=he!==null&&W.null,Qt=[...Array.isArray(je)?je:je?[je]:[],...Array.isArray(ve)?ve:ve?[ve]:[]];return ne(Qt)(he)}}function ne(W){return fe=W,m=0,W.length===0?ae:Ne(W[m])}function Ne(W){return nt;function nt(he){return pe=V(),ie=W,W.partial||(s.currentConstruct=W),W.name&&s.parser.constructs.disable.null.includes(W.name)?tt(he):W.tokenize.call(L?Object.assign(Object.create(s),L):s,l,Yt,tt)(he)}}function Yt(W){return c=!0,S(ie,pe),Y}function tt(W){return c=!0,pe.restore(),++m<fe.length?Ne(fe[m]):ae}}}function Q(S,L){S.resolveAll&&!u.includes(S)&&u.push(S),S.resolve&&Z(s.events,L,s.events.length-L,S.resolve(s.events.slice(L),s)),S.resolveTo&&(s.events=S.resolveTo(s.events,s))}function V(){let S=A(),L=s.previous,P=s.currentConstruct,q=s.events.length,Y=Array.from(a);return{restore:ae,from:q};function ae(){r=S,s.previous=L,s.currentConstruct=P,s.events.length=q,a=Y,k()}}function k(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function bo(e,n){let t=n.start._index,r=n.start._bufferIndex,i=n.end._index,u=n.end._bufferIndex,o;if(t===i)o=[e[t].slice(r,u)];else{if(o=e.slice(t,i),r>-1){let a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}u>0&&o.push(e[i].slice(0,u))}return o}function ko(e,n){let t=-1,r=[],i;for(;++t<e.length;){let u=e[t],o;if(typeof u=="string")o=u;else switch(u){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=n?" ":"	";break}case-1:{if(!n&&i)continue;o=" ";break}default:o=String.fromCharCode(u)}i=u===-2,r.push(o)}return r.join("")}var An={};Zn(An,{attentionMarkers:()=>To,contentInitial:()=>wo,disable:()=>Po,document:()=>Do,flow:()=>Bo,flowInitial:()=>So,insideSpan:()=>vo,string:()=>Oo,text:()=>_o});var Do={42:J,43:J,45:J,48:J,49:J,50:J,51:J,52:J,53:J,54:J,55:J,56:J,57:J,62:St},wo={91:hn},So={[-2]:ct,[-1]:ct,32:ct},Bo={35:gn,42:Le,45:[Lt,Le],60:Fn,61:Lt,95:Le,96:_t,126:_t},Oo={38:Ot,92:Bt},_o={[-5]:ft,[-4]:ft,[-3]:ft,33:yn,38:Ot,42:st,60:[an,xn],91:En,92:[mn,Bt],93:Ie,95:st,96:sn},vo={null:[st,Lr]},To={null:[42,95]},Po={null:[]};function Ur(e){let t=or([An,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:t,content:i(lr),document:i(fr),flow:i(Ir),string:i(Rr),text:i(zr)};return r;function i(u){return o;function o(a){return jr(r,u,a)}}}var Vr=/[\0\t\n\r]/g;function Hr(){let e=1,n="",t=!0,r;return i;function i(u,o,a){let c=[],l,s,f,h,p;for(u=n+u.toString(o),f=0,n="",t&&(u.charCodeAt(0)===65279&&f++,t=void 0);f<u.length;){if(Vr.lastIndex=f,l=Vr.exec(u),h=l&&l.index!==void 0?l.index:u.length,p=u.charCodeAt(h),!l){n=u.slice(f);break}if(p===10&&f===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<h&&(c.push(u.slice(f,h)),e+=h-f),p){case 0:{c.push(65533),e++;break}case 9:{for(s=Math.ceil(e/4)*4,c.push(-2);e++<s;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return a&&(r&&c.push(-5),n&&c.push(n),c.push(null)),c}}function qr(e){for(;!vt(e););return e}function Rt(e,n){let t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"\uFFFD":String.fromCharCode(t)}var Io=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function $r(e){return e.replace(Io,Lo)}function Lo(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){let i=t.charCodeAt(1),u=i===120||i===88;return Rt(t.slice(u?2:1),u?16:10)}return $e(t)||e}function Be(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Yr(e.position):"start"in e||"end"in e?Yr(e):"line"in e||"column"in e?Cn(e):""}function Cn(e){return Qr(e&&e.line)+":"+Qr(e&&e.column)}function Yr(e){return Cn(e&&e.start)+"-"+Cn(e&&e.end)}function Qr(e){return e&&typeof e=="number"?e:1}var Zr={}.hasOwnProperty,bn=function(e,n,t){return typeof n!="string"&&(t=n,n=void 0),Ro(t)(qr(Ur(t).document().write(Hr()(e,n,!0))))};function Ro(e){let n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Qn),autolinkProtocol:V,autolinkEmail:V,atxHeading:a(qn),blockQuote:a(je),characterEscape:V,characterReference:V,codeFenced:a(ve),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:a(ve,c),codeText:a(Qt,c),codeTextData:V,data:V,codeFlowValue:V,definition:a(ji),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:a(Ui),hardBreakEscape:a($n),hardBreakTrailing:a($n),htmlFlow:a(Yn,c),htmlFlowData:V,htmlText:a(Yn,c),htmlTextData:V,image:a(Vi),label:c,link:a(Qn),listItem:a(Hi),listItemValue:D,listOrdered:a(Wn,p),listUnordered:a(Wn),paragraph:a(qi),reference:Ne,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:a(qn),strong:a($i),thematicBreak:a(Qi)},exit:{atxHeading:s(),atxHeadingSequence:E,autolink:s(),autolinkEmail:he,autolinkProtocol:nt,blockQuote:s(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:tt,characterReferenceMarkerNumeric:tt,characterReferenceValue:W,codeFenced:s(w),codeFencedFence:x,codeFencedFenceInfo:C,codeFencedFenceMeta:A,codeFlowValue:k,codeIndented:s(y),codeText:s(Y),codeTextData:k,data:k,definition:s(),definitionDestinationString:d,definitionLabelString:T,definitionTitleString:I,emphasis:s(),hardBreakEscape:s(L),hardBreakTrailing:s(L),htmlFlow:s(P),htmlFlowData:k,htmlText:s(q),htmlTextData:k,image:s(fe),label:ie,labelText:m,lineEnding:S,link:s(ae),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString:Yt,resourceDestinationString:pe,resourceTitleString:g,resource:ne,setextHeading:s(Q),setextHeadingLineSequence:R,setextHeadingText:_,strong:s(),thematicBreak:s()}};Kr(n,(e||{}).mdastExtensions||[]);let t={};return r;function r(F){let b={type:"root",children:[]},O={stack:[b],tokenStack:[],config:n,enter:l,exit:f,buffer:c,resume:h,setData:u,getData:o},N=[],j=-1;for(;++j<F.length;)if(F[j][1].type==="listOrdered"||F[j][1].type==="listUnordered")if(F[j][0]==="enter")N.push(j);else{let se=N.pop();j=i(F,se,j)}for(j=-1;++j<F.length;){let se=n[F[j][0]];Zr.call(se,F[j][1].type)&&se[F[j][1].type].call(Object.assign({sliceSerialize:F[j][2].sliceSerialize},O),F[j][1])}if(O.tokenStack.length>0){let se=O.tokenStack[O.tokenStack.length-1];(se[1]||Wr).call(O,void 0,se[0])}for(b.position={start:Oe(F.length>0?F[0][1].start:{line:1,column:1,offset:0}),end:Oe(F.length>0?F[F.length-2][1].end:{line:1,column:1,offset:0})},j=-1;++j<n.transforms.length;)b=n.transforms[j](b)||b;return b}function i(F,b,O){let N=b-1,j=-1,se=!1,Fe,me,rt,it;for(;++N<=O;){let $=F[N];if($[1].type==="listUnordered"||$[1].type==="listOrdered"||$[1].type==="blockQuote"?($[0]==="enter"?j++:j--,it=void 0):$[1].type==="lineEndingBlank"?$[0]==="enter"&&(Fe&&!it&&!j&&!rt&&(rt=N),it=void 0):$[1].type==="linePrefix"||$[1].type==="listItemValue"||$[1].type==="listItemMarker"||$[1].type==="listItemPrefix"||$[1].type==="listItemPrefixWhitespace"||(it=void 0),!j&&$[0]==="enter"&&$[1].type==="listItemPrefix"||j===-1&&$[0]==="exit"&&($[1].type==="listUnordered"||$[1].type==="listOrdered")){if(Fe){let Wt=N;for(me=void 0;Wt--;){let ge=F[Wt];if(ge[1].type==="lineEnding"||ge[1].type==="lineEndingBlank"){if(ge[0]==="exit")continue;me&&(F[me][1].type="lineEndingBlank",se=!0),ge[1].type="lineEnding",me=Wt}else if(!(ge[1].type==="linePrefix"||ge[1].type==="blockQuotePrefix"||ge[1].type==="blockQuotePrefixWhitespace"||ge[1].type==="blockQuoteMarker"||ge[1].type==="listItemIndent"))break}rt&&(!me||rt<me)&&(Fe._spread=!0),Fe.end=Object.assign({},me?F[me][1].start:$[1].end),F.splice(me||N,0,["exit",Fe,$[2]]),N++,O++}$[1].type==="listItemPrefix"&&(Fe={type:"listItem",_spread:!1,start:Object.assign({},$[1].start),end:void 0},F.splice(N,0,["enter",Fe,$[2]]),N++,O++,rt=void 0,it=!0)}}return F[b][1]._spread=se,O}function u(F,b){t[F]=b}function o(F){return t[F]}function a(F,b){return O;function O(N){l.call(this,F(N),N),b&&b.call(this,N)}}function c(){this.stack.push({type:"fragment",children:[]})}function l(F,b,O){return this.stack[this.stack.length-1].children.push(F),this.stack.push(F),this.tokenStack.push([b,O]),F.position={start:Oe(b.start)},F}function s(F){return b;function b(O){F&&F.call(this,O),f.call(this,O)}}function f(F,b){let O=this.stack.pop(),N=this.tokenStack.pop();if(N)N[0].type!==F.type&&(b?b.call(this,F,N[0]):(N[1]||Wr).call(this,F,N[0]));else throw new Error("Cannot close `"+F.type+"` ("+Be({start:F.start,end:F.end})+"): it\u2019s not open");return O.position.end=Oe(F.end),O}function h(){return rn(this.stack.pop())}function p(){u("expectingFirstListItemValue",!0)}function D(F){if(o("expectingFirstListItemValue")){let b=this.stack[this.stack.length-2];b.start=Number.parseInt(this.sliceSerialize(F),10),u("expectingFirstListItemValue")}}function C(){let F=this.resume(),b=this.stack[this.stack.length-1];b.lang=F}function A(){let F=this.resume(),b=this.stack[this.stack.length-1];b.meta=F}function x(){o("flowCodeInside")||(this.buffer(),u("flowCodeInside",!0))}function w(){let F=this.resume(),b=this.stack[this.stack.length-1];b.value=F.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),u("flowCodeInside")}function y(){let F=this.resume(),b=this.stack[this.stack.length-1];b.value=F.replace(/(\r?\n|\r)$/g,"")}function T(F){let b=this.resume(),O=this.stack[this.stack.length-1];O.label=b,O.identifier=de(this.sliceSerialize(F)).toLowerCase()}function I(){let F=this.resume(),b=this.stack[this.stack.length-1];b.title=F}function d(){let F=this.resume(),b=this.stack[this.stack.length-1];b.url=F}function E(F){let b=this.stack[this.stack.length-1];if(!b.depth){let O=this.sliceSerialize(F).length;b.depth=O}}function _(){u("setextHeadingSlurpLineEnding",!0)}function R(F){let b=this.stack[this.stack.length-1];b.depth=this.sliceSerialize(F).charCodeAt(0)===61?1:2}function Q(){u("setextHeadingSlurpLineEnding")}function V(F){let b=this.stack[this.stack.length-1],O=b.children[b.children.length-1];(!O||O.type!=="text")&&(O=Yi(),O.position={start:Oe(F.start)},b.children.push(O)),this.stack.push(O)}function k(F){let b=this.stack.pop();b.value+=this.sliceSerialize(F),b.position.end=Oe(F.end)}function S(F){let b=this.stack[this.stack.length-1];if(o("atHardBreak")){let O=b.children[b.children.length-1];O.position.end=Oe(F.end),u("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&n.canContainEols.includes(b.type)&&(V.call(this,F),k.call(this,F))}function L(){u("atHardBreak",!0)}function P(){let F=this.resume(),b=this.stack[this.stack.length-1];b.value=F}function q(){let F=this.resume(),b=this.stack[this.stack.length-1];b.value=F}function Y(){let F=this.resume(),b=this.stack[this.stack.length-1];b.value=F}function ae(){let F=this.stack[this.stack.length-1];if(o("inReference")){let b=o("referenceType")||"shortcut";F.type+="Reference",F.referenceType=b,delete F.url,delete F.title}else delete F.identifier,delete F.label;u("referenceType")}function fe(){let F=this.stack[this.stack.length-1];if(o("inReference")){let b=o("referenceType")||"shortcut";F.type+="Reference",F.referenceType=b,delete F.url,delete F.title}else delete F.identifier,delete F.label;u("referenceType")}function m(F){let b=this.sliceSerialize(F),O=this.stack[this.stack.length-2];O.label=$r(b),O.identifier=de(b).toLowerCase()}function ie(){let F=this.stack[this.stack.length-1],b=this.resume(),O=this.stack[this.stack.length-1];if(u("inReference",!0),O.type==="link"){let N=F.children;O.children=N}else O.alt=b}function pe(){let F=this.resume(),b=this.stack[this.stack.length-1];b.url=F}function g(){let F=this.resume(),b=this.stack[this.stack.length-1];b.title=F}function ne(){u("inReference")}function Ne(){u("referenceType","collapsed")}function Yt(F){let b=this.resume(),O=this.stack[this.stack.length-1];O.label=b,O.identifier=de(this.sliceSerialize(F)).toLowerCase(),u("referenceType","full")}function tt(F){u("characterReferenceType",F.type)}function W(F){let b=this.sliceSerialize(F),O=o("characterReferenceType"),N;O?(N=Rt(b,O==="characterReferenceMarkerNumeric"?10:16),u("characterReferenceType")):N=$e(b);let j=this.stack.pop();j.value+=N,j.position.end=Oe(F.end)}function nt(F){k.call(this,F);let b=this.stack[this.stack.length-1];b.url=this.sliceSerialize(F)}function he(F){k.call(this,F);let b=this.stack[this.stack.length-1];b.url="mailto:"+this.sliceSerialize(F)}function je(){return{type:"blockquote",children:[]}}function ve(){return{type:"code",lang:null,meta:null,value:""}}function Qt(){return{type:"inlineCode",value:""}}function ji(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ui(){return{type:"emphasis",children:[]}}function qn(){return{type:"heading",depth:void 0,children:[]}}function $n(){return{type:"break"}}function Yn(){return{type:"html",value:""}}function Vi(){return{type:"image",title:null,url:"",alt:null}}function Qn(){return{type:"link",title:null,url:"",children:[]}}function Wn(F){return{type:"list",ordered:F.type==="listOrdered",start:null,spread:F._spread,children:[]}}function Hi(F){return{type:"listItem",spread:F._spread,checked:null,children:[]}}function qi(){return{type:"paragraph",children:[]}}function $i(){return{type:"strong",children:[]}}function Yi(){return{type:"text",value:""}}function Qi(){return{type:"thematicBreak"}}}function Oe(e){return{line:e.line,column:e.column,offset:e.offset}}function Kr(e,n){let t=-1;for(;++t<n.length;){let r=n[t];Array.isArray(r)?Kr(e,r):zo(e,r)}}function zo(e,n){let t;for(t in n)if(Zr.call(n,t)){if(t==="canContainEols"){let r=n[t];r&&e[t].push(...r)}else if(t==="transforms"){let r=n[t];r&&e[t].push(...r)}else if(t==="enter"||t==="exit"){let r=n[t];r&&Object.assign(e[t],r)}}}function Wr(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+Be({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+Be({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+Be({start:n.start,end:n.end})+") is still open")}function zt(e){Object.assign(this,{Parser:t=>{let r=this.data("settings");return bn(t,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function kn(e){if(e)throw e}var gi=kt(Dn(),1),Pn=kt(oi(),1);function pt(e){if(typeof e!="object"||e===null)return!1;let n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function wn(){let e=[],n={run:t,use:r};return n;function t(...i){let u=-1,o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(c,...l){let s=e[++u],f=-1;if(c){o(c);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,s?ai(s,a)(...l):o(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),n}}function ai(e,n){let t;return r;function r(...o){let a=e.length>o.length,c;a&&o.push(i);try{c=e.apply(this,o)}catch(l){let s=l;if(a&&t)throw s;return i(s)}a||(c&&c.then&&typeof c.then=="function"?c.then(u,i):c instanceof Error?i(c):u(c))}function i(o,...a){t||(t=!0,n(o,...a))}function u(o){i(null,o)}}var fi=kt(Dn(),1);var X=class extends Error{constructor(n,t,r){let i=[null,null],u={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){let o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}t&&("type"in t||"position"in t?t.position&&(u=t.position):"start"in t||"end"in t?u=t:("line"in t||"column"in t)&&(u.start=t)),this.name=Be(t)||"1:1",this.message=typeof n=="object"?n.message:n,this.stack="",typeof n=="object"&&n.stack&&(this.stack=n.stack),this.reason=this.message,this.fatal,this.line=u.start.line,this.column=u.start.column,this.position=u,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}};X.prototype.file="";X.prototype.name="";X.prototype.reason="";X.prototype.message="";X.prototype.stack="";X.prototype.fatal=null;X.prototype.column=null;X.prototype.line=null;X.prototype.source=null;X.prototype.ruleId=null;X.prototype.position=null;var le={basename:Mo,dirname:No,extname:jo,join:Uo,sep:"/"};function Mo(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');ht(e);let t=0,r=-1,i=e.length,u;if(n===void 0||n.length===0||n.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(u){t=i+1;break}}else r<0&&(u=!0,r=i+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let o=-1,a=n.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(u){t=i+1;break}}else o<0&&(u=!0,o=i+1),a>-1&&(e.charCodeAt(i)===n.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return t===r?r=o:r<0&&(r=e.length),e.slice(t,r)}function No(e){if(ht(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.charCodeAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.charCodeAt(0)===47?"/":".":n===1&&e.charCodeAt(0)===47?"//":e.slice(0,n)}function jo(e){ht(e);let n=e.length,t=-1,r=0,i=-1,u=0,o;for(;n--;){let a=e.charCodeAt(n);if(a===47){if(o){r=n+1;break}continue}t<0&&(o=!0,t=n+1),a===46?i<0?i=n:u!==1&&(u=1):i>-1&&(u=-1)}return i<0||t<0||u===0||u===1&&i===t-1&&i===r+1?"":e.slice(i,t)}function Uo(...e){let n=-1,t;for(;++n<e.length;)ht(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":Vo(t)}function Vo(e){ht(e);let n=e.charCodeAt(0)===47,t=Ho(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.charCodeAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function Ho(e,n){let t="",r=0,i=-1,u=0,o=-1,a,c;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||u===1))if(i!==o-1&&u===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(c=t.lastIndexOf("/"),c!==t.length-1){c<0?(t="",r=0):(t=t.slice(0,c),r=t.length-1-t.lastIndexOf("/")),i=o,u=0;continue}}else if(t.length>0){t="",r=0,i=o,u=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(i+1,o):t=e.slice(i+1,o),r=o-i-1;i=o,u=0}else a===46&&u>-1?u++:u=-1}return t}function ht(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}var si={cwd:qo};function qo(){return"/"}function Ye(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function li(e){if(typeof e=="string")e=new URL(e);else if(!Ye(e)){let n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){let n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return $o(e)}function $o(e){if(e.hostname!==""){let r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}let n=e.pathname,t=-1;for(;++t<n.length;)if(n.charCodeAt(t)===37&&n.charCodeAt(t+1)===50){let r=n.charCodeAt(t+2);if(r===70||r===102){let i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}var Sn=["history","path","basename","stem","extname","dirname"],mt=class{constructor(n){let t;n?typeof n=="string"||Yo(n)?t={value:n}:Ye(n)?t={path:n}:t=n:t={},this.data={},this.messages=[],this.history=[],this.cwd=si.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<Sn.length;){let u=Sn[r];u in t&&t[u]!==void 0&&t[u]!==null&&(this[u]=u==="history"?[...t[u]]:t[u])}let i;for(i in t)Sn.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(n){Ye(n)&&(n=li(n)),On(n,"path"),this.path!==n&&this.history.push(n)}get dirname(){return typeof this.path=="string"?le.dirname(this.path):void 0}set dirname(n){ci(this.basename,"dirname"),this.path=le.join(n||"",this.basename)}get basename(){return typeof this.path=="string"?le.basename(this.path):void 0}set basename(n){On(n,"basename"),Bn(n,"basename"),this.path=le.join(this.dirname||"",n)}get extname(){return typeof this.path=="string"?le.extname(this.path):void 0}set extname(n){if(Bn(n,"extname"),ci(this.dirname,"extname"),n){if(n.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=le.join(this.dirname,this.stem+(n||""))}get stem(){return typeof this.path=="string"?le.basename(this.path,this.extname):void 0}set stem(n){On(n,"stem"),Bn(n,"stem"),this.path=le.join(this.dirname||"",n+(this.extname||""))}toString(n){return(this.value||"").toString(n||void 0)}message(n,t,r){let i=new X(n,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(n,t,r){let i=this.message(n,t,r);return i.fatal=null,i}fail(n,t,r){let i=this.message(n,t,r);throw i.fatal=!0,i}};function Bn(e,n){if(e&&e.includes(le.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+le.sep+"`")}function On(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function ci(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function Yo(e){return(0,fi.default)(e)}var In=Fi().freeze(),di={}.hasOwnProperty;function Fi(){let e=wn(),n=[],t={},r,i=-1;return u.data=o,u.Parser=void 0,u.Compiler=void 0,u.freeze=a,u.attachers=n,u.use=c,u.parse=l,u.stringify=s,u.run=f,u.runSync=h,u.process=p,u.processSync=D,u;function u(){let C=Fi(),A=-1;for(;++A<n.length;)C.use(...n[A]);return C.data((0,Pn.default)(!0,{},t)),C}function o(C,A){return typeof C=="string"?arguments.length===2?(Tn("data",r),t[C]=A,u):di.call(t,C)&&t[C]||null:C?(Tn("data",r),t=C,u):t}function a(){if(r)return u;for(;++i<n.length;){let[C,...A]=n[i];if(A[0]===!1)continue;A[0]===!0&&(A[0]=void 0);let x=C.call(u,...A);typeof x=="function"&&e.use(x)}return r=!0,i=Number.POSITIVE_INFINITY,u}function c(C,...A){let x;if(Tn("use",r),C!=null)if(typeof C=="function")I(C,...A);else if(typeof C=="object")Array.isArray(C)?T(C):y(C);else throw new TypeError("Expected usable value, not `"+C+"`");return x&&(t.settings=Object.assign(t.settings||{},x)),u;function w(d){if(typeof d=="function")I(d);else if(typeof d=="object")if(Array.isArray(d)){let[E,..._]=d;I(E,..._)}else y(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function y(d){T(d.plugins),d.settings&&(x=Object.assign(x||{},d.settings))}function T(d){let E=-1;if(d!=null)if(Array.isArray(d))for(;++E<d.length;){let _=d[E];w(_)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function I(d,E){let _=-1,R;for(;++_<n.length;)if(n[_][0]===d){R=n[_];break}R?(pt(R[1])&&pt(E)&&(E=(0,Pn.default)(!0,R[1],E)),R[1]=E):n.push([...arguments])}}function l(C){u.freeze();let A=gt(C),x=u.Parser;return _n("parse",x),pi(x,"parse")?new x(String(A),A).parse():x(String(A),A)}function s(C,A){u.freeze();let x=gt(A),w=u.Compiler;return vn("stringify",w),hi(C),pi(w,"compile")?new w(C,x).compile():w(C,x)}function f(C,A,x){if(hi(C),u.freeze(),!x&&typeof A=="function"&&(x=A,A=void 0),!x)return new Promise(w);w(null,x);function w(y,T){e.run(C,gt(A),I);function I(d,E,_){E=E||C,d?T(d):y?y(E):x(null,E,_)}}}function h(C,A){let x,w;return u.run(C,A,y),mi("runSync","run",w),x;function y(T,I){kn(T),x=I,w=!0}}function p(C,A){if(u.freeze(),_n("process",u.Parser),vn("process",u.Compiler),!A)return new Promise(x);x(null,A);function x(w,y){let T=gt(C);u.run(u.parse(T),T,(d,E,_)=>{if(d||!E||!_)I(d);else{let R=u.stringify(E,_);R==null||(Zo(R)?_.value=R:_.result=R),I(d,_)}});function I(d,E){d||!E?y(d):w?w(E):A(null,E)}}}function D(C){let A;u.freeze(),_n("processSync",u.Parser),vn("processSync",u.Compiler);let x=gt(C);return u.process(x,w),mi("processSync","process",A),x;function w(y){A=!0,kn(y)}}}function pi(e,n){return typeof e=="function"&&e.prototype&&(Qo(e.prototype)||n in e.prototype)}function Qo(e){let n;for(n in e)if(di.call(e,n))return!0;return!1}function _n(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function vn(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function Tn(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function hi(e){if(!pt(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function mi(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function gt(e){return Wo(e)?e:new mt(e)}function Wo(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Zo(e){return typeof e=="string"||(0,gi.default)(e)}var Ln={children(e){return Ue.children(e)},annotatetextnode(e,n){return Ue.annotatetextnode(e,n)},interpretmarkup(e=""){return`
`.repeat((e.match(/\n/g)||[]).length)},remarkoptions:{}};function xi(e,n=Ln){let t=In().use(zt,n.remarkoptions).use(wt,["yaml","toml"]).parse(e);return Jn(e,t,n)}var xt=require("obsidian");function Jo(e,n,t){return n=dt(n),ia(e,jn()?Reflect.construct(n,t||[],dt(e).constructor):n.apply(e,t))}function Ci(e,n,t){if(jn())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,n);var i=new(e.bind.apply(e,r));return t&&Ft(i,t.prototype),i}function jn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(n){}return(jn=function(){return!!e})()}function yi(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function Xo(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?yi(Object(t),!0).forEach(function(r){ea(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yi(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Go(e,n){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function bi(e){var n=Go(e,"string");return typeof n=="symbol"?n:n+""}function ue(e){"@babel/helpers - typeof";return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ue(e)}function Ze(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ei(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bi(r.key),r)}}function Ke(e,n,t){return n&&Ei(e.prototype,n),t&&Ei(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ea(e,n,t){return n=bi(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ta(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Ft(e,n)}function dt(e){return dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dt(e)}function Ft(e,n){return Ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ft(e,n)}function na(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch(n){return typeof e=="function"}}function zn(e){var n=typeof Map=="function"?new Map:void 0;return zn=function(r){if(r===null||!na(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n!="undefined"){if(n.has(r))return n.get(r);n.set(r,i)}function i(){return Ci(r,arguments,dt(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ft(i,r)},zn(e)}function ra(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ia(e,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ra(e)}function Un(e){return ua(e)||oa(e)||ki(e)||aa()}function ua(e){if(Array.isArray(e))return Mn(e)}function oa(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ki(e,n){if(e){if(typeof e=="string")return Mn(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mn(e,n)}}function Mn(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function aa(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sa(e,n){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=ki(e))||n&&e&&typeof e.length=="number"){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,o=!1,a;return{s:function(){t=t.call(e)},n:function(){var c=t.next();return u=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!u&&t.return!=null&&t.return()}finally{if(o)throw a}}}}var la=function(){function e(){Ze(this,e)}return Ke(e,[{key:"add",value:function(t,r,i){if(typeof arguments[0]!="string")for(var u in arguments[0])this.add(u,arguments[0][u],arguments[1]);else(Array.isArray(t)?t:[t]).forEach(function(o){this[o]=this[o]||[],r&&this[o][i?"unshift":"push"](r)},this)}},{key:"run",value:function(t,r){this[t]=this[t]||[],this[t].forEach(function(i){i.call(r&&r.context?r.context:r,r)})}}])}(),ca=function(){function e(n){Ze(this,e),this.jsep=n,this.registered={}}return Ke(e,[{key:"register",value:function(){for(var t=this,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];i.forEach(function(o){if(ue(o)!=="object"||!o.name||!o.init)throw new Error("Invalid JSEP plugin format");t.registered[o.name]||(o.init(t.jsep),t.registered[o.name]=o)})}}])}(),oe=function(){function e(n){Ze(this,e),this.expr=n,this.index=0}return Ke(e,[{key:"char",get:function(){return this.expr.charAt(this.index)}},{key:"code",get:function(){return this.expr.charCodeAt(this.index)}},{key:"throwError",value:function(t){var r=new Error(t+" at character "+this.index);throw r.index=this.index,r.description=t,r}},{key:"runHook",value:function(t,r){if(e.hooks[t]){var i={context:this,node:r};return e.hooks.run(t,i),i.node}return r}},{key:"searchHook",value:function(t){if(e.hooks[t]){var r={context:this};return e.hooks[t].find(function(i){return i.call(r.context,r),r.node}),r.node}}},{key:"gobbleSpaces",value:function(){for(var t=this.code;t===e.SPACE_CODE||t===e.TAB_CODE||t===e.LF_CODE||t===e.CR_CODE;)t=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}},{key:"parse",value:function(){this.runHook("before-all");var t=this.gobbleExpressions(),r=t.length===1?t[0]:{type:e.COMPOUND,body:t};return this.runHook("after-all",r)}},{key:"gobbleExpressions",value:function(t){for(var r=[],i,u;this.index<this.expr.length;)if(i=this.code,i===e.SEMCOL_CODE||i===e.COMMA_CODE)this.index++;else if(u=this.gobbleExpression())r.push(u);else if(this.index<this.expr.length){if(i===t)break;this.throwError('Unexpected "'+this.char+'"')}return r}},{key:"gobbleExpression",value:function(){var t=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",t)}},{key:"gobbleBinaryOp",value:function(){this.gobbleSpaces();for(var t=this.expr.substr(this.index,e.max_binop_len),r=t.length;r>0;){if(e.binary_ops.hasOwnProperty(t)&&(!e.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!e.isIdentifierPart(this.expr.charCodeAt(this.index+t.length))))return this.index+=r,t;t=t.substr(0,--r)}return!1}},{key:"gobbleBinaryExpression",value:function(){var t,r,i,u,o,a,c,l,s;if(a=this.gobbleToken(),!a||(r=this.gobbleBinaryOp(),!r))return a;for(o={value:r,prec:e.binaryPrecedence(r),right_a:e.right_associative.has(r)},c=this.gobbleToken(),c||this.throwError("Expected expression after "+r),u=[a,o,c];r=this.gobbleBinaryOp();){if(i=e.binaryPrecedence(r),i===0){this.index-=r.length;break}o={value:r,prec:i,right_a:e.right_associative.has(r)},s=r;for(var f=function(p){return o.right_a&&p.right_a?i>p.prec:i<=p.prec};u.length>2&&f(u[u.length-2]);)c=u.pop(),r=u.pop().value,a=u.pop(),t={type:e.BINARY_EXP,operator:r,left:a,right:c},u.push(t);t=this.gobbleToken(),t||this.throwError("Expected expression after "+s),u.push(o,t)}for(l=u.length-1,t=u[l];l>1;)t={type:e.BINARY_EXP,operator:u[l-1].value,left:u[l-2],right:t},l-=2;return t}},{key:"gobbleToken",value:function(){var t,r,i,u;if(this.gobbleSpaces(),u=this.searchHook("gobble-token"),u)return this.runHook("after-token",u);if(t=this.code,e.isDecimalDigit(t)||t===e.PERIOD_CODE)return this.gobbleNumericLiteral();if(t===e.SQUOTE_CODE||t===e.DQUOTE_CODE)u=this.gobbleStringLiteral();else if(t===e.OBRACK_CODE)u=this.gobbleArray();else{for(r=this.expr.substr(this.index,e.max_unop_len),i=r.length;i>0;){if(e.unary_ops.hasOwnProperty(r)&&(!e.isIdentifierStart(this.code)||this.index+r.length<this.expr.length&&!e.isIdentifierPart(this.expr.charCodeAt(this.index+r.length)))){this.index+=i;var o=this.gobbleToken();return o||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:e.UNARY_EXP,operator:r,argument:o,prefix:!0})}r=r.substr(0,--i)}e.isIdentifierStart(t)?(u=this.gobbleIdentifier(),e.literals.hasOwnProperty(u.name)?u={type:e.LITERAL,value:e.literals[u.name],raw:u.name}:u.name===e.this_str&&(u={type:e.THIS_EXP})):t===e.OPAREN_CODE&&(u=this.gobbleGroup())}return u?(u=this.gobbleTokenProperty(u),this.runHook("after-token",u)):this.runHook("after-token",!1)}},{key:"gobbleTokenProperty",value:function(t){this.gobbleSpaces();for(var r=this.code;r===e.PERIOD_CODE||r===e.OBRACK_CODE||r===e.OPAREN_CODE||r===e.QUMARK_CODE;){var i=void 0;if(r===e.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==e.PERIOD_CODE)break;i=!0,this.index+=2,this.gobbleSpaces(),r=this.code}this.index++,r===e.OBRACK_CODE?(t={type:e.MEMBER_EXP,computed:!0,object:t,property:this.gobbleExpression()},this.gobbleSpaces(),r=this.code,r!==e.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):r===e.OPAREN_CODE?t={type:e.CALL_EXP,arguments:this.gobbleArguments(e.CPAREN_CODE),callee:t}:(r===e.PERIOD_CODE||i)&&(i&&this.index--,this.gobbleSpaces(),t={type:e.MEMBER_EXP,computed:!1,object:t,property:this.gobbleIdentifier()}),i&&(t.optional=!0),this.gobbleSpaces(),r=this.code}return t}},{key:"gobbleNumericLiteral",value:function(){for(var t="",r,i;e.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);if(this.code===e.PERIOD_CODE)for(t+=this.expr.charAt(this.index++);e.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);if(r=this.char,r==="e"||r==="E"){for(t+=this.expr.charAt(this.index++),r=this.char,(r==="+"||r==="-")&&(t+=this.expr.charAt(this.index++));e.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);e.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+t+this.char+")")}return i=this.code,e.isIdentifierStart(i)?this.throwError("Variable names cannot start with a number ("+t+this.char+")"):(i===e.PERIOD_CODE||t.length===1&&t.charCodeAt(0)===e.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:e.LITERAL,value:parseFloat(t),raw:t}}},{key:"gobbleStringLiteral",value:function(){for(var t="",r=this.index,i=this.expr.charAt(this.index++),u=!1;this.index<this.expr.length;){var o=this.expr.charAt(this.index++);if(o===i){u=!0;break}else if(o==="\\")switch(o=this.expr.charAt(this.index++),o){case"n":t+=`
`;break;case"r":t+="\r";break;case"t":t+="	";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:t+=o}else t+=o}return u||this.throwError('Unclosed quote after "'+t+'"'),{type:e.LITERAL,value:t,raw:this.expr.substring(r,this.index)}}},{key:"gobbleIdentifier",value:function(){var t=this.code,r=this.index;for(e.isIdentifierStart(t)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(t=this.code,e.isIdentifierPart(t));)this.index++;return{type:e.IDENTIFIER,name:this.expr.slice(r,this.index)}}},{key:"gobbleArguments",value:function(t){for(var r=[],i=!1,u=0;this.index<this.expr.length;){this.gobbleSpaces();var o=this.code;if(o===t){i=!0,this.index++,t===e.CPAREN_CODE&&u&&u>=r.length&&this.throwError("Unexpected token "+String.fromCharCode(t));break}else if(o===e.COMMA_CODE){if(this.index++,u++,u!==r.length){if(t===e.CPAREN_CODE)this.throwError("Unexpected token ,");else if(t===e.CBRACK_CODE)for(var a=r.length;a<u;a++)r.push(null)}}else if(r.length!==u&&u!==0)this.throwError("Expected comma");else{var c=this.gobbleExpression();(!c||c.type===e.COMPOUND)&&this.throwError("Expected comma"),r.push(c)}}return i||this.throwError("Expected "+String.fromCharCode(t)),r}},{key:"gobbleGroup",value:function(){this.index++;var t=this.gobbleExpressions(e.CPAREN_CODE);if(this.code===e.CPAREN_CODE)return this.index++,t.length===1?t[0]:t.length?{type:e.SEQUENCE_EXP,expressions:t}:!1;this.throwError("Unclosed (")}},{key:"gobbleArray",value:function(){return this.index++,{type:e.ARRAY_EXP,elements:this.gobbleArguments(e.CBRACK_CODE)}}}],[{key:"version",get:function(){return"1.3.8"}},{key:"toString",value:function(){return"JavaScript Expression Parser (JSEP) v"+e.version}},{key:"addUnaryOp",value:function(t){return e.max_unop_len=Math.max(t.length,e.max_unop_len),e.unary_ops[t]=1,e}},{key:"addBinaryOp",value:function(t,r,i){return e.max_binop_len=Math.max(t.length,e.max_binop_len),e.binary_ops[t]=r,i?e.right_associative.add(t):e.right_associative.delete(t),e}},{key:"addIdentifierChar",value:function(t){return e.additional_identifier_chars.add(t),e}},{key:"addLiteral",value:function(t,r){return e.literals[t]=r,e}},{key:"removeUnaryOp",value:function(t){return delete e.unary_ops[t],t.length===e.max_unop_len&&(e.max_unop_len=e.getMaxKeyLen(e.unary_ops)),e}},{key:"removeAllUnaryOps",value:function(){return e.unary_ops={},e.max_unop_len=0,e}},{key:"removeIdentifierChar",value:function(t){return e.additional_identifier_chars.delete(t),e}},{key:"removeBinaryOp",value:function(t){return delete e.binary_ops[t],t.length===e.max_binop_len&&(e.max_binop_len=e.getMaxKeyLen(e.binary_ops)),e.right_associative.delete(t),e}},{key:"removeAllBinaryOps",value:function(){return e.binary_ops={},e.max_binop_len=0,e}},{key:"removeLiteral",value:function(t){return delete e.literals[t],e}},{key:"removeAllLiterals",value:function(){return e.literals={},e}},{key:"parse",value:function(t){return new e(t).parse()}},{key:"getMaxKeyLen",value:function(t){return Math.max.apply(Math,[0].concat(Un(Object.keys(t).map(function(r){return r.length}))))}},{key:"isDecimalDigit",value:function(t){return t>=48&&t<=57}},{key:"binaryPrecedence",value:function(t){return e.binary_ops[t]||0}},{key:"isIdentifierStart",value:function(t){return t>=65&&t<=90||t>=97&&t<=122||t>=128&&!e.binary_ops[String.fromCharCode(t)]||e.additional_identifier_chars.has(String.fromCharCode(t))}},{key:"isIdentifierPart",value:function(t){return e.isIdentifierStart(t)||e.isDecimalDigit(t)}}])}(),fa=new la;Object.assign(oe,{hooks:fa,plugins:new ca(oe),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},right_associative:new Set,additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});oe.max_unop_len=oe.getMaxKeyLen(oe.unary_ops);oe.max_binop_len=oe.getMaxKeyLen(oe.binary_ops);var We=function(n){return new oe(n).parse()},pa=Object.getOwnPropertyNames(oe);pa.forEach(function(e){We[e]===void 0&&e!=="prototype"&&(We[e]=oe[e])});We.Jsep=oe;var ha="ConditionalExpression",ma={name:"ternary",init:function(n){n.hooks.add("after-expression",function(r){if(r.node&&this.code===n.QUMARK_CODE){this.index++;var i=r.node,u=this.gobbleExpression();if(u||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===n.COLON_CODE){this.index++;var o=this.gobbleExpression();if(o||this.throwError("Expected expression"),r.node={type:ha,test:i,consequent:u,alternate:o},i.operator&&n.binary_ops[i.operator]<=.9){for(var a=i;a.right.operator&&n.binary_ops[a.right.operator]<=.9;)a=a.right;r.node.test=a.right,a.right=r.node,r.node=i}}else this.throwError("Expected :")}})}};We.plugins.register(ma);var Ai=47,ga=92,da={name:"regex",init:function(n){n.hooks.add("gobble-token",function(r){if(this.code===Ai){for(var i=++this.index,u=!1;this.index<this.expr.length;){if(this.code===Ai&&!u){for(var o=this.expr.slice(i,this.index),a="";++this.index<this.expr.length;){var c=this.code;if(c>=97&&c<=122||c>=65&&c<=90||c>=48&&c<=57)a+=this.char;else break}var l=void 0;try{l=new RegExp(o,a)}catch(s){this.throwError(s.message)}return r.node={type:n.LITERAL,value:l,raw:this.expr.slice(i-1,this.index)},r.node=this.gobbleTokenProperty(r.node),r.node}this.code===n.OBRACK_CODE?u=!0:u&&this.code===n.CBRACK_CODE&&(u=!1),this.index+=this.code===ga?2:1}this.throwError("Unclosed Regex")}})}},Rn=43,Fa=45,Qe={name:"assignment",assignmentOperators:new Set(["=","*=","**=","/=","%=","+=","-=","<<=",">>=",">>>=","&=","^=","|="]),updateOperators:[Rn,Fa],assignmentPrecedence:.9,init:function(n){var t=[n.IDENTIFIER,n.MEMBER_EXP];Qe.assignmentOperators.forEach(function(i){return n.addBinaryOp(i,Qe.assignmentPrecedence,!0)}),n.hooks.add("gobble-token",function(u){var o=this,a=this.code;Qe.updateOperators.some(function(c){return c===a&&c===o.expr.charCodeAt(o.index+1)})&&(this.index+=2,u.node={type:"UpdateExpression",operator:a===Rn?"++":"--",argument:this.gobbleTokenProperty(this.gobbleIdentifier()),prefix:!0},(!u.node.argument||!t.includes(u.node.argument.type))&&this.throwError("Unexpected ".concat(u.node.operator)))}),n.hooks.add("after-token",function(u){var o=this;if(u.node){var a=this.code;Qe.updateOperators.some(function(c){return c===a&&c===o.expr.charCodeAt(o.index+1)})&&(t.includes(u.node.type)||this.throwError("Unexpected ".concat(u.node.operator)),this.index+=2,u.node={type:"UpdateExpression",operator:a===Rn?"++":"--",argument:u.node,prefix:!1})}}),n.hooks.add("after-expression",function(u){u.node&&r(u.node)});function r(i){Qe.assignmentOperators.has(i.operator)?(i.type="AssignmentExpression",r(i.left),r(i.right)):i.operator||Object.values(i).forEach(function(u){u&&ue(u)==="object"&&r(u)})}}},te=Object.prototype.hasOwnProperty;function _e(e,n){return e=e.slice(),e.push(n),e}function Nn(e,n){return n=n.slice(),n.unshift(e),n}var xa=function(e){function n(t){var r;return Ze(this,n),r=Jo(this,n,['JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)']),r.avoidNew=!0,r.value=t,r.name="NewError",r}return ta(n,e),Ke(n)}(zn(Error));function M(e,n,t,r,i){if(!(this instanceof M))try{return new M(e,n,t,r,i)}catch(c){if(!c.avoidNew)throw c;return c.value}typeof e=="string"&&(i=r,r=t,t=n,n=e,e=null);var u=e&&ue(e)==="object";if(e=e||{},this.json=e.json||t,this.path=e.path||n,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=te.call(e,"wrap")?e.wrap:!0,this.sandbox=e.sandbox||{},this.eval=e.eval===void 0?"safe":e.eval,this.ignoreEvalErrors=typeof e.ignoreEvalErrors=="undefined"?!1:e.ignoreEvalErrors,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||r||null,this.otherTypeCallback=e.otherTypeCallback||i||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},e.autostart!==!1){var o={path:u?e.path:n};u?"json"in e&&(o.json=e.json):o.json=t;var a=this.evaluate(o);if(!a||ue(a)!=="object")throw new xa(a);return a}}M.prototype.evaluate=function(e,n,t,r){var i=this,u=this.parent,o=this.parentProperty,a=this.flatten,c=this.wrap;if(this.currResultType=this.resultType,this.currEval=this.eval,this.currSandbox=this.sandbox,t=t||this.callback,this.currOtherTypeCallback=r||this.otherTypeCallback,n=n||this.json,e=e||this.path,e&&ue(e)==="object"&&!Array.isArray(e)){if(!e.path&&e.path!=="")throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!te.call(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');var l=e;n=l.json,a=te.call(e,"flatten")?e.flatten:a,this.currResultType=te.call(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=te.call(e,"sandbox")?e.sandbox:this.currSandbox,c=te.call(e,"wrap")?e.wrap:c,this.currEval=te.call(e,"eval")?e.eval:this.currEval,t=te.call(e,"callback")?e.callback:t,this.currOtherTypeCallback=te.call(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,u=te.call(e,"parent")?e.parent:u,o=te.call(e,"parentProperty")?e.parentProperty:o,e=e.path}if(u=u||null,o=o||null,Array.isArray(e)&&(e=M.toPathString(e)),!(!e&&e!==""||!n)){var s=M.toPathArray(e);s[0]==="$"&&s.length>1&&s.shift(),this._hasParentSelector=null;var f=this._trace(s,n,["$"],u,o,t).filter(function(h){return h&&!h.isParentSelector});return f.length?!c&&f.length===1&&!f[0].hasArrExpr?this._getPreferredOutput(f[0]):f.reduce(function(h,p){var D=i._getPreferredOutput(p);return a&&Array.isArray(D)?h=h.concat(D):h.push(D),h},[]):c?[]:void 0}};M.prototype._getPreferredOutput=function(e){var n=this.currResultType;switch(n){case"all":{var t=Array.isArray(e.path)?e.path:M.toPathArray(e.path);return e.pointer=M.toPointer(t),e.path=typeof e.path=="string"?e.path:M.toPathString(e.path),e}case"value":case"parent":case"parentProperty":return e[n];case"path":return M.toPathString(e[n]);case"pointer":return M.toPointer(e.path);default:throw new TypeError("Unknown result type")}};M.prototype._handleCallback=function(e,n,t){if(n){var r=this._getPreferredOutput(e);e.path=typeof e.path=="string"?e.path:M.toPathString(e.path),n(r,t,e)}};M.prototype._trace=function(e,n,t,r,i,u,o,a){var c=this,l;if(!e.length)return l={path:t,value:n,parent:r,parentProperty:i,hasArrExpr:o},this._handleCallback(l,u,"value"),l;var s=e[0],f=e.slice(1),h=[];function p(k){Array.isArray(k)?k.forEach(function(S){h.push(S)}):h.push(k)}if((typeof s!="string"||a)&&n&&te.call(n,s))p(this._trace(f,n[s],_e(t,s),n,s,u,o));else if(s==="*")this._walk(n,function(k){p(c._trace(f,n[k],_e(t,k),n,k,u,!0,!0))});else if(s==="..")p(this._trace(f,n,t,r,i,u,o)),this._walk(n,function(k){ue(n[k])==="object"&&p(c._trace(e.slice(),n[k],_e(t,k),n,k,u,!0))});else{if(s==="^")return this._hasParentSelector=!0,{path:t.slice(0,-1),expr:f,isParentSelector:!0};if(s==="~")return l={path:_e(t,s),value:i,parent:r,parentProperty:null},this._handleCallback(l,u,"property"),l;if(s==="$")p(this._trace(f,n,t,null,null,u,o));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(s))p(this._slice(s,f,n,t,r,i,u));else if(s.indexOf("?(")===0){if(this.currEval===!1)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");var D=s.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),C=/@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])?((?:[\0->@-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))(?!(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])\)\])['\]]/g.exec(D);C?this._walk(n,function(k){var S=[C[2]],L=C[1]?n[k][C[1]]:n[k],P=c._trace(S,L,t,r,i,u,!0);P.length>0&&p(c._trace(f,n[k],_e(t,k),n,k,u,!0))}):this._walk(n,function(k){c._eval(D,n[k],k,t,r,i)&&p(c._trace(f,n[k],_e(t,k),n,k,u,!0))})}else if(s[0]==="("){if(this.currEval===!1)throw new Error("Eval [(expr)] prevented in JSONPath expression.");p(this._trace(Nn(this._eval(s,n,t[t.length-1],t.slice(0,-1),r,i),f),n,t,r,i,u,o))}else if(s[0]==="@"){var A=!1,x=s.slice(1,-2);switch(x){case"scalar":(!n||!["object","function"].includes(ue(n)))&&(A=!0);break;case"boolean":case"string":case"undefined":case"function":ue(n)===x&&(A=!0);break;case"integer":Number.isFinite(n)&&!(n%1)&&(A=!0);break;case"number":Number.isFinite(n)&&(A=!0);break;case"nonFinite":typeof n=="number"&&!Number.isFinite(n)&&(A=!0);break;case"object":n&&ue(n)===x&&(A=!0);break;case"array":Array.isArray(n)&&(A=!0);break;case"other":A=this.currOtherTypeCallback(n,t,r,i);break;case"null":n===null&&(A=!0);break;default:throw new TypeError("Unknown value type "+x)}if(A)return l={path:t,value:n,parent:r,parentProperty:i},this._handleCallback(l,u,"value"),l}else if(s[0]==="`"&&n&&te.call(n,s.slice(1))){var w=s.slice(1);p(this._trace(f,n[w],_e(t,w),n,w,u,o,!0))}else if(s.includes(",")){var y=s.split(","),T=sa(y),I;try{for(T.s();!(I=T.n()).done;){var d=I.value;p(this._trace(Nn(d,f),n,t,r,i,u,!0))}}catch(k){T.e(k)}finally{T.f()}}else!a&&n&&te.call(n,s)&&p(this._trace(f,n[s],_e(t,s),n,s,u,o,!0))}if(this._hasParentSelector)for(var E=0;E<h.length;E++){var _=h[E];if(_&&_.isParentSelector){var R=this._trace(_.expr,n,_.path,r,i,u,o);if(Array.isArray(R)){h[E]=R[0];for(var Q=R.length,V=1;V<Q;V++)E++,h.splice(E,0,R[V])}else h[E]=R}}return h};M.prototype._walk=function(e,n){if(Array.isArray(e))for(var t=e.length,r=0;r<t;r++)n(r);else e&&ue(e)==="object"&&Object.keys(e).forEach(function(i){n(i)})};M.prototype._slice=function(e,n,t,r,i,u,o){if(Array.isArray(t)){var a=t.length,c=e.split(":"),l=c[2]&&Number.parseInt(c[2])||1,s=c[0]&&Number.parseInt(c[0])||0,f=c[1]&&Number.parseInt(c[1])||a;s=s<0?Math.max(0,s+a):Math.min(a,s),f=f<0?Math.max(0,f+a):Math.min(a,f);for(var h=[],p=s;p<f;p+=l){var D=this._trace(Nn(p,n),t,r,i,u,o,!0);D.forEach(function(C){h.push(C)})}return h}};M.prototype._eval=function(e,n,t,r,i,u){var o=this;this.currSandbox._$_parentProperty=u,this.currSandbox._$_parent=i,this.currSandbox._$_property=t,this.currSandbox._$_root=this.json,this.currSandbox._$_v=n;var a=e.includes("@path");a&&(this.currSandbox._$_path=M.toPathString(r.concat([t])));var c=this.currEval+"Script:"+e;if(!M.cache[c]){var l=e.replace(/@parentProperty/g,"_$_parentProperty").replace(/@parent/g,"_$_parent").replace(/@property/g,"_$_property").replace(/@root/g,"_$_root").replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1");if(a&&(l=l.replace(/@path/g,"_$_path")),this.currEval==="safe"||this.currEval===!0||this.currEval===void 0)M.cache[c]=new this.safeVm.Script(l);else if(this.currEval==="native")M.cache[c]=new this.vm.Script(l);else if(typeof this.currEval=="function"&&this.currEval.prototype&&te.call(this.currEval.prototype,"runInNewContext")){var s=this.currEval;M.cache[c]=new s(l)}else if(typeof this.currEval=="function")M.cache[c]={runInNewContext:function(h){return o.currEval(l,h)}};else throw new TypeError('Unknown "eval" property "'.concat(this.currEval,'"'))}try{return M.cache[c].runInNewContext(this.currSandbox)}catch(f){if(this.ignoreEvalErrors)return!1;throw new Error("jsonPath: "+f.message+": "+e)}};M.cache={};M.toPathString=function(e){for(var n=e,t=n.length,r="$",i=1;i<t;i++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(n[i])||(r+=/^[\*0-9]+$/.test(n[i])?"["+n[i]+"]":"['"+n[i]+"']");return r};M.toPointer=function(e){for(var n=e,t=n.length,r="",i=1;i<t;i++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(n[i])||(r+="/"+n[i].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return r};M.toPathArray=function(e){var n=M.cache;if(n[e])return n[e].concat();var t=[],r=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]](?!(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])\])/g,function(u,o){return"[#"+(t.push(o)-1)+"]"}).replace(/\[["']((?:[\0-&\(-\\\^-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)["']\]/g,function(u,o){return"['"+o.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:[\0-Z\\-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(u,o){return";"+o.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,""),i=r.split(";").map(function(u){var o=u.match(/#([0-9]+)/);return!o||!o[1]?u:t[o[1]]});return n[e]=i,n[e].concat()};var ya=function(n,t,r){for(var i=n.length,u=0;u<i;u++){var o=n[u];r(o)&&t.push(n.splice(u--,1)[0])}};We.plugins.register(da,Qe);var U={evalAst:function(n,t){switch(n.type){case"BinaryExpression":case"LogicalExpression":return U.evalBinaryExpression(n,t);case"Compound":return U.evalCompound(n,t);case"ConditionalExpression":return U.evalConditionalExpression(n,t);case"Identifier":return U.evalIdentifier(n,t);case"Literal":return U.evalLiteral(n,t);case"MemberExpression":return U.evalMemberExpression(n,t);case"UnaryExpression":return U.evalUnaryExpression(n,t);case"ArrayExpression":return U.evalArrayExpression(n,t);case"CallExpression":return U.evalCallExpression(n,t);case"AssignmentExpression":return U.evalAssignmentExpression(n,t);default:throw SyntaxError("Unexpected expression",n)}},evalBinaryExpression:function(n,t){var r={"||":function(u,o){return u||o()},"&&":function(u,o){return u&&o()},"|":function(u,o){return u|o()},"^":function(u,o){return u^o()},"&":function(u,o){return u&o()},"==":function(u,o){return u==o()},"!=":function(u,o){return u!=o()},"===":function(u,o){return u===o()},"!==":function(u,o){return u!==o()},"<":function(u,o){return u<o()},">":function(u,o){return u>o()},"<=":function(u,o){return u<=o()},">=":function(u,o){return u>=o()},"<<":function(u,o){return u<<o()},">>":function(u,o){return u>>o()},">>>":function(u,o){return u>>>o()},"+":function(u,o){return u+o()},"-":function(u,o){return u-o()},"*":function(u,o){return u*o()},"/":function(u,o){return u/o()},"%":function(u,o){return u%o()}}[n.operator](U.evalAst(n.left,t),function(){return U.evalAst(n.right,t)});return r},evalCompound:function(n,t){for(var r,i=0;i<n.body.length;i++){n.body[i].type==="Identifier"&&["var","let","const"].includes(n.body[i].name)&&n.body[i+1]&&n.body[i+1].type==="AssignmentExpression"&&(i+=1);var u=n.body[i];r=U.evalAst(u,t)}return r},evalConditionalExpression:function(n,t){return U.evalAst(n.test,t)?U.evalAst(n.consequent,t):U.evalAst(n.alternate,t)},evalIdentifier:function(n,t){if(n.name in t)return t[n.name];throw ReferenceError("".concat(n.name," is not defined"))},evalLiteral:function(n){return n.value},evalMemberExpression:function(n,t){var r=n.computed?U.evalAst(n.property):n.property.name,i=U.evalAst(n.object,t),u=i[r];return typeof u=="function"?u.bind(i):u},evalUnaryExpression:function(n,t){var r={"-":function(u){return-U.evalAst(u,t)},"!":function(u){return!U.evalAst(u,t)},"~":function(u){return~U.evalAst(u,t)},"+":function(u){return+U.evalAst(u,t)}}[n.operator](n.argument);return r},evalArrayExpression:function(n,t){return n.elements.map(function(r){return U.evalAst(r,t)})},evalCallExpression:function(n,t){var r=n.arguments.map(function(u){return U.evalAst(u,t)}),i=U.evalAst(n.callee,t);return i.apply(void 0,Un(r))},evalAssignmentExpression:function(n,t){if(n.left.type!=="Identifier")throw SyntaxError("Invalid left-hand side in assignment");var r=n.left.name,i=U.evalAst(n.right,t);return t[r]=i,t[r]}},Ea=function(){function e(n){Ze(this,e),this.code=n,this.ast=We(this.code)}return Ke(e,[{key:"runInNewContext",value:function(t){var r=Xo({},t);return U.evalAst(this.ast,r)}}])}(),Aa=function(){function e(n){Ze(this,e),this.code=n}return Ke(e,[{key:"runInNewContext",value:function(t){var r=this.code,i=Object.keys(t),u=[];ya(i,u,function(s){return typeof t[s]=="function"});var o=i.map(function(s){return t[s]}),a=u.reduce(function(s,f){var h=t[f].toString();return/function/.test(h)||(h="function "+h),"var "+f+"="+h+";"+s},"");r=a+r,!/(["'])use strict\1/.test(r)&&!i.includes("arguments")&&(r="var arguments = undefined;"+r),r=r.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"");var c=r.lastIndexOf(";"),l=c>-1?r.slice(0,c+1)+" return "+r.slice(c+1):" return "+r;return Ci(Function,i.concat([l])).apply(void 0,Un(o))}}])}();M.prototype.vm={Script:Aa};M.prototype.safeVm={Script:Ea};var Ca="$.matches[*]",ba="$.offset@number()",ka="$.length@number()",Da="$.shortMessage@string()",wa="$.message@string()",Sa="$.replacements[*].value@string()",Ba="$.rule.category.id@string()",Oa="$.rule.id@string()";async function Di(e,n,t){var a;let r=xi(t,{...Ln,interpretmarkup(c=""){var s,f;if(/^`[^`]+`$/.test(c))return c;let l=`
`.repeat((f=(s=c.match(/\n/g))==null?void 0:s.length)!=null?f:0);return c.match(/^\s*(-|\d+\.) $/m)?l+"\u2022 ":l}}),i={data:JSON.stringify(r),language:(a=e.staticLanguage)!=null?a:"auto",enabledOnly:"false",level:e.pickyMode?"picky":"default"};e.motherTongue&&(i.motherTongue=e.motherTongue),e.enabledCategories&&(i.enabledCategories=e.enabledCategories),e.disabledCategories&&(i.disabledCategories=e.disabledCategories),e.enabledRules&&(i.enabledRules=e.enabledRules),e.disabledRules&&(i.disabledRules=e.disabledRules),i.preferredVariants=Object.values(e.languageVariety).join(","),e.apikey&&e.username&&(i.username=e.username,i.apiKey=e.apikey);let u;try{u=await(0,xt.requestUrl)({url:`${e.serverUrl}/v2/check`,method:"POST",body:new URLSearchParams(i).toString(),throw:!0,headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}})}catch(c){throw console.log(c),new Error(`Request to LanguageTool failed: Please check your connection and server URL.
${c}`)}if(u.json==null)throw new Error("Error processing response from LanguageTool.");return Nt(Ca,u.json).map(c=>{let l=Je(ba,c),s=l+Je(ka,c);return{text:t.slice(l,s),from:n+l,to:n+s,title:Je(Da,c),message:Je(wa,c),replacements:Nt(Sa,c),categoryId:Je(Ba,c),ruleId:Je(Oa,c)}})}async function wi(e){if(this.languages)return this.languages;let n=await(0,xt.requestUrl)({url:`${e.serverUrl}/v2/languages`}).json;if(n==null||!(n instanceof Array))throw new Error("Error processing response from LanguageTool.");return n}var Vn=class{constructor(){this.url="https://qb-grammar-en.languagetool.org/phrasal-paraphraser/subscribe"}async query(n,t){let r="$.data.suggestions[*][*]@string()",i=n.slice(0,t.from).split(/\s+/).length,u=n.slice(t.from,t.to),o={message:{indices:[i],mode:0,phrases:[u],text:n},meta:{clientStatus:"string",product:"string",traceID:"string",userID:"string"},response_queue:"string"},a;try{a=await(0,xt.requestUrl)({url:this.url,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).json}catch(c){throw new Error(`Requesting synonyms failed
${c}`)}if(a==null)throw new Error("Error processing response from LanguageTool.");return Nt(r,a)}},Hn=class{constructor(){this.url="https://synonyms.languagetool.org/synonyms/de"}async query(n,t){let r=n.slice(t.from,t.to).trim(),i=n.slice(0,t.from).split(/\s+/).join("+"),u=n.slice(t.to).split(/\s+/).join("+"),o;try{o=await(0,xt.requestUrl)({url:`${this.url}/${r}?${new URLSearchParams({before:i,after:u})}`,method:"GET"}).json}catch(a){throw new Error(`Requesting synonyms failed
${a}`)}if(o==null)throw new Error("Error processing response.");return Nt("$.synsets[*].terms[*].term@string()",o)}},Re={en:new Vn,de:new Hn};function Je(e,n){let t=M({path:e,json:n,wrap:!1,eval:!1});if(t==null||t instanceof Array)throw new Error("JSONPath failed");return t}function Nt(e,n){let t=M({path:e,json:n,wrap:!0,eval:!1});if(t==null||!(t instanceof Array))throw new Error("JSONPath failed");return t}var Si=5e3,_a=250,yt=class{constructor(n,t){this.url=n,this.requestsPerSec=t}get minDelay(){return 60/this.requestsPerSec*1e3}},Et={standard:new yt("https://api.languagetool.org",20),premium:new yt("https://api.languagetoolplus.com",80),custom:new yt("",120)};function Bi(e){for(let[n,t]of Object.entries(Et))if(t.url===e)return n;return"custom"}var Oi={serverUrl:Object.keys(Et)[0],autoCheckDelay:Et.standard.minDelay,shouldAutoCheck:!1,languageVariety:{},pickyMode:!1},jt=class extends H.PluginSettingTab{constructor(n,t){super(n,t),this.plugin=t}configureCheckDelay(n,t){let r=Et[t].minDelay;this.plugin.settings.autoCheckDelay=Math.clamp(this.plugin.settings.autoCheckDelay,r,Si),n.setLimits(r,Si,_a)}async getLanguages(){return this.languages==null&&(this.languages=wi(this.plugin.settings)),await this.languages}async getLanguageVariants(n){let t=await this.getLanguages();return t=t.filter(r=>r.code===n).filter(r=>r.longCode!==r.code),Object.fromEntries(t.map(r=>[r.longCode,r.name]))}async configureLanguageVariants(n,t,r){var u;let i=this.plugin.settings;n.addOptions({default:"---",...await this.getLanguageVariants(t)}).setValue((u=i.languageVariety[t])!=null?u:"default").onChange(async o=>{o==="default"?delete i.languageVariety[t]:(i.staticLanguage="auto",r==null||r.setValue("auto"),i.languageVariety[t]=o),await this.plugin.saveSettings()})}display(){let{containerEl:n}=this;n.empty();let t=this.plugin.settings;new H.Setting(n).setName("Error logs").setDesc(`${this.plugin.logs.length} messages`).addButton(l=>{l.setButtonText("Copy to clipboard").onClick(async()=>{await window.navigator.clipboard.writeText(this.plugin.logs.join(`
`)),new H.Notice("Logs copied to clipboard")})});let r=Bi(t.serverUrl),i=null;new H.Setting(n).setName("Endpoint").setDesc("Choose the LanguageTool server url").then(l=>{l.controlEl.classList.add("lt-settings-grid");let s=null,f=null;l.addDropdown(h=>{s=h,h.addOptions({standard:"(Standard) api.languagetool.org",premium:"(Premium) api.languagetoolplus.com",custom:"Custom URL"}).setValue(r).onChange(async p=>{r=p,t.serverUrl=Et[r].url,f&&f.setValue(t.serverUrl).setDisabled(p!=="custom"),i&&this.configureCheckDelay(i,r),await this.plugin.saveSettings()})}),l.addText(h=>{f=h,h.setPlaceholder("https://your-custom-url.com").setValue(t.serverUrl).setDisabled(r!=="custom").onChange(async p=>{t.serverUrl=p.replace(/\/v2\/check\/$/,"").replace(/\/$/,""),r=Bi(t.serverUrl),r!=="custom"&&(s==null||s.setValue(r),f==null||f.setDisabled(!0)),await this.plugin.saveSettings()})})}),new H.Setting(n).setName("API username").setDesc("Enter a username/mail for API access").addText(l=>l.setPlaceholder("peterlustig@example.com").setValue(t.username||"").onChange(async s=>{t.username=s.replace(/\s+/g,""),await this.plugin.saveSettings()})),new H.Setting(n).setName("API key").setDesc(createFragment(l=>{l.createEl("a",{text:"Click here for information about Premium Access",href:"https://github.com/wrenger/obsidian-languagetool#premium-accounts",attr:{target:"_blank"}})})).addText(l=>l.setValue(t.apikey||"").onChange(async s=>{t.apikey=s.replace(/\s+/g,""),t.apikey&&r!=="premium"&&new H.Notice("You have entered an API Key but you are not using the Premium Endpoint"),await this.plugin.saveSettings()})),new H.Setting(n).setName("Auto check text").setDesc("Check text as you type").addToggle(l=>{l.setValue(t.shouldAutoCheck).onChange(async s=>{t.shouldAutoCheck=s,await this.plugin.saveSettings()})}),new H.Setting(n).setName("Auto check delay (ms)").setDesc("Time to wait for autocheck after the last key press").addSlider(l=>{i=l,this.configureCheckDelay(l,r),l.setValue(t.autoCheckDelay).onChange(async s=>{t.autoCheckDelay=s,await this.plugin.saveSettings()}).setDynamicTooltip()});function u(l){if(l.appendText("Enables the context menu for synonyms fetched from"),l.createEl("br"),t.synonyms!=null){let s=Re[t.synonyms];if(!s){l.appendText(" (unknown API)");return}l.createEl("a",{text:s.url,href:s.url,attr:{target:"_blank"}})}else l.appendText("(none)")}let o=new H.Setting(n).setName("Find synonyms").setDesc(createFragment(u));o.addDropdown(l=>{var s;l.addOption("none","---");for(let f of Object.keys(Re))l.addOption(f,f);l.setValue((s=t.synonyms)!=null?s:"none").onChange(async f=>{t.synonyms=f!=="none"?f:void 0,await this.plugin.saveSettings(),o.setDesc(createFragment(u))})}),new H.Setting(n).setName("Language settings").setHeading(),new H.Setting(n).setName("Mother tongue").setDesc("Set mother tongue if you want to be warned about false friends when writing in other languages. This setting will also be used for automatic language detection.").addDropdown(l=>{this.getLanguages().then(s=>{var f;l.addOption("none","---").addOptions(Object.fromEntries(s.filter(h=>h.longCode==h.code).map(h=>[h.longCode,h.name]))).setValue((f=t.motherTongue)!=null?f:"none").onChange(async h=>{t.motherTongue=h!=="none"?h:void 0,await this.plugin.saveSettings()})}).catch(console.error)});let a,c={en:{name:"English",dropdown:null},de:{name:"German",dropdown:null},pt:{name:"Portuguese",dropdown:null},ca:{name:"Catalan",dropdown:null}};new H.Setting(n).setName("Static language").setDesc("Set a static language that will always be used (LanguageTool tries to auto detect the language, this is usually not necessary)").addDropdown(l=>{a=l,this.getLanguages().then(s=>{var f;l.addOption("auto","Auto Detect").addOptions(Object.fromEntries(s.map(h=>[h.longCode,h.name]))).setValue((f=t.staticLanguage)!=null?f:"auto").onChange(async h=>{var p;if(t.staticLanguage=h!=="auto"?h:void 0,h!=="auto"){t.languageVariety={};for(let D of Object.values(c))(p=D.dropdown)==null||p.setValue("default")}await this.plugin.saveSettings()})}).catch(console.error)}),new H.Setting(n).setName("Language varieties").setHeading().setDesc("Some languages have varieties depending on the country they are spoken in.");for(let[l,s]of Object.entries(c))new H.Setting(n).setName(`Interpret ${s.name} as`).addDropdown(async f=>{s.dropdown=f,this.configureLanguageVariants(f,l,a)});new H.Setting(n).setName("Rule categories").setHeading().setDesc(createFragment(l=>{l.appendText("The picky mode enables a lot of extra categories and rules. Additionally, you can enable or disable specific rules down below."),l.createEl("br"),l.createEl("a",{text:"Click here for a list of rules and categories",href:"https://community.languagetool.org/rule/list",attr:{target:"_blank"}})})),new H.Setting(n).setName("Picky mode").setDesc("Provides more style and tonality suggestions, detects long or complex sentences, recognizes colloquialism and redundancies, proactively suggests synonyms for commonly overused words").addToggle(l=>{l.setValue(t.pickyMode).onChange(async s=>{t.pickyMode=s,await this.plugin.saveSettings()})}),new H.Setting(n).setName("Enabled categories").setDesc("Comma-separated list of categories").addText(l=>{var s;return l.setPlaceholder("CATEGORY_1,CATEGORY_2").setValue((s=t.enabledCategories)!=null?s:"").onChange(async f=>{t.enabledCategories=f.replace(/\s+/g,""),await this.plugin.saveSettings()})}),new H.Setting(n).setName("Disabled categories").setDesc("Comma-separated list of categories").addText(l=>{var s;return l.setPlaceholder("CATEGORY_1,CATEGORY_2").setValue((s=t.disabledCategories)!=null?s:"").onChange(async f=>{t.disabledCategories=f.replace(/\s+/g,""),await this.plugin.saveSettings()})}),new H.Setting(n).setName("Enabled rules").setDesc("Comma-separated list of rules").addText(l=>{var s;return l.setPlaceholder("RULE_1,RULE_2").setValue((s=t.enabledRules)!=null?s:"").onChange(async f=>{t.enabledRules=f.replace(/\s+/g,""),await this.plugin.saveSettings()})}),new H.Setting(n).setName("Disabled rules").setDesc("Comma-separated list of rules").addText(l=>{var s;return l.setPlaceholder("RULE_1,RULE_2").setValue((s=t.disabledRules)!=null?s:"").onChange(async f=>{t.disabledRules=f.replace(/\s+/g,""),await this.plugin.saveSettings()})})}};var zi=require("@codemirror/view");var _i=require("@codemirror/view");function vi(e){let n=-1,t=1/0,r=-1/0;return _i.EditorView.updateListener.of(i=>{if(!i.docChanged||!e.settings.shouldAutoCheck)return;i.changes.iterChangedRanges((o,a,c,l)=>{t=Math.min(t,c,l),r=Math.max(r,c,l)});let u=i.view;clearTimeout(n),n=window.setTimeout(()=>{e.runDetection(u,{from:t,to:r}).catch(o=>{console.error(o)}),t=1/0,r=-1/0},e.settings.autoCheckDelay)})}var Ii=require("@codemirror/view"),Li=require("@codemirror/state");function Ut(e){switch(e){case"COLLOQUIALISMS":case"REDUNDANCY":case"STYLE":case"SYNONYMS":return"lt-style";case"PUNCTUATION":case"TYPOS":return"lt-major"}return"lt-minor"}var Ct=require("obsidian");var Xe=require("@codemirror/view"),ze=require("@codemirror/state"),Ge=require("@codemirror/language");var va=/(frontmatter|code|math|templater|blockid|hashtag|internal)/,Vt=ze.StateEffect.define(),At=ze.StateEffect.define(),et=ze.StateEffect.define(),Ht=ze.StateEffect.define();function Ti(e,n){return e.from<=n.from&&n.from<=e.to||e.from<=n.to&&n.to<=e.to||n.from<=e.from&&e.from<=n.to||n.from<=e.to&&e.to<=n.to}var Me=ze.StateField.define({create(){return Xe.Decoration.none},update(e,n){e=e.map(n.changes);let t=new Set,r={},i=null,u=a=>{if(r[a]==null){i||(i=(0,Ge.syntaxTree)(n.state));let c=i.resolveInner(a,1).type.prop(Ge.tokenClassNodeProp);r[a]=!(c&&va.test(c))}return r[a]},o=a=>{i||(i=(0,Ge.syntaxTree)(n.state));let c=i.resolve(n.newDoc.lineAt(a.from).from,1).type.prop(Ge.tokenClassNodeProp);return!(c!=null&&c.includes("table")&&a.ruleId==="WHITESPACE_RULE")};n.docChanged&&n.selection&&e.size&&(e=e.update({filter:(a,c)=>!Ti({from:a,to:c},n.selection.main)}));for(let a of n.effects)if(a.is(Vt)){let c=a.value,l=`${c.from},${c.to}`;!t.has(l)&&u(c.from)&&u(c.to)&&o(c)&&(t.add(l),e=e.update({add:[Xe.Decoration.mark({class:`lt-underline ${Ut(c.categoryId)}`,underline:c}).range(c.from,c.to)]}))}else a.is(At)?e=Xe.Decoration.none:a.is(et)?e=e.update({filterFrom:a.value.from,filterTo:a.value.to,filter:(c,l)=>!Ti({from:c,to:l},a.value)}):a.is(Ht)&&(e=e.update({filter:(c,l,s)=>!a.value(s.spec.underline)}));return e},provide:e=>Xe.EditorView.decorations.from(e)});function Ta(e,n,t){let r=t.replacements.slice(0,qt),i=t.categoryId,u=t.ruleId;return createDiv({cls:["lt-predictions-container",Ut(i)]},o=>{t.title&&o.createSpan({cls:"lt-title"},c=>{c.createSpan({text:t.title})}),t.message&&o.createSpan({cls:"lt-message",text:t.message});let a=et.of({...t});o.createDiv({cls:"lt-bottom"},c=>{r.length&&c.createDiv({cls:"lt-buttoncontainer"},l=>{for(let s of r)l.createEl("button",{text:s||"(delete)"},f=>{f.onclick=()=>{n.dispatch({changes:[{from:t.from,to:t.to,insert:s}],effects:[a]})}})}),c.createDiv({cls:"lt-info-container"},l=>{l.createEl("button",{cls:"lt-info-button clickable-icon"},s=>{(0,Ct.setIcon)(s,"info"),s.onclick=()=>{let f=document.getElementsByClassName("lt-info-box").item(0);if(!f)throw Error("Programming error: failed to create popup.");f.hasClass("hidden")?f.removeClass("hidden"):f.addClass("hidden")}}),l.createDiv({cls:"lt-info-box hidden"},s=>{s.createDiv({cls:"lt-info",text:`Category:\xA0${i}`}),s.createDiv({cls:"lt-info",text:`Rule:\xA0${u}`})})})}),o.createDiv({cls:"lt-ignorecontainer"},c=>{c.createEl("button",{cls:"lt-ignore-btn"},l=>{i==="TYPOS"?((0,Ct.setIcon)(l.createSpan(),"plus-with-circle"),l.createSpan({text:"Add to personal dictionary"}),l.onclick=()=>{let s=e.app.vault.getConfig("spellcheckDictionary")||[];e.app.vault.setConfig("spellcheckDictionary",[...s,n.state.sliceDoc(t.from,t.to)]),n.dispatch({effects:[Ht.of(f=>f.text===t.text)]})}):((0,Ct.setIcon)(l.createSpan(),"cross"),l.createSpan({text:"Ignore suggestion"}),l.onclick=()=>{n.dispatch({effects:[a]})})}),i!=="TYPOS"&&i!=="SYNONYMS"&&c.createEl("button",{cls:"lt-ignore-btn"},l=>{(0,Ct.setIcon)(l.createSpan(),"circle-off"),l.createSpan({text:"Disable rule"}),l.onclick=()=>{e.settings.disabledRules?e.settings.disabledRules+=","+u:e.settings.disabledRules=u,e.saveSettings(),n.dispatch({effects:[Ht.of(s=>s.ruleId===u)]})}})})})}function Pi(e,n,t){let r=t.field(Me);if(r.size===0||t.selection.ranges.length>1)return[];let i=null;if(r.between(t.selection.main.from,t.selection.main.to,(u,o,a)=>{i={...a.spec.underline,from:u,to:o}}),i!=null){let{from:u,to:o}=i;if(e.length){let a=e[0];if(a.pos===u&&a.end===o)return e}return[{pos:u,end:o,above:!0,strictSide:!1,arrow:!1,create:a=>({dom:Ta(n,a,i)})}]}return[]}function Ri(e){return Li.StateField.define({create:n=>Pi([],e,n),update:(n,t)=>Pi(n,e,t.state),provide:n=>Ii.showTooltip.computeN([n],t=>t.field(n))})}function Mi(e){return[(0,zi.tooltips)({position:"absolute",tooltipSpace:n=>n.dom.getBoundingClientRect()}),Me,Ri(e),vi(e)]}var Ni=require("@codemirror/language"),qt=5,$t=class extends ce.Plugin{constructor(){super(...arguments);this.isLoading=!1;this.logs=[];this.handleStatusBarClick=()=>{var i;let t=(i=this.statusBarText.parentElement)==null?void 0:i.getBoundingClientRect(),r=this.statusBarText.getBoundingClientRect();new ce.Menu().addItem(u=>{u.setTitle("Check current document"),u.setIcon("checkbox-glyph"),u.onClick(async()=>{let o=this.app.workspace.getActiveViewOfType(ce.MarkdownView);if(o&&o.getMode()==="source")try{let a=o.editor.cm;await this.runDetection(a)}catch(a){console.error(a)}})}).addItem(u=>{u.setTitle(this.settings.shouldAutoCheck?"Disable automatic checking":"Enable automatic checking"),u.setIcon("uppercase-lowercase-a"),u.onClick(async()=>{this.settings.shouldAutoCheck=!this.settings.shouldAutoCheck,await this.saveSettings()})}).addItem(u=>{u.setTitle("Clear suggestions"),u.setIcon("reset"),u.onClick(()=>{let o=this.app.workspace.getActiveViewOfType(ce.MarkdownView);if(!o)return;o.editor.cm.dispatch({effects:[At.of(null)]})})}).showAtPosition({x:r.right+5,y:((t==null?void 0:t.top)||0)-5})}}async onload(){await this.loadSettings(),this.addSettingTab(new jt(this.app,this)),this.app.workspace.onLayoutReady(()=>{this.statusBarText=this.addStatusBarItem(),this.setStatusBarReady(),this.registerDomEvent(this.statusBarText,"click",this.handleStatusBarClick)}),this.registerEditorExtension(Mi(this)),this.registerCommands(),this.registerMenuItems()}onunload(){this.logs=[],this.isLoading=!1}registerCommands(){this.addCommand({id:"check",name:"Check text",editorCallback:(t,r)=>{let i=t.cm;this.runDetection(i).catch(u=>{console.error(u)})}}),this.addCommand({id:"toggle-auto-check",name:"Toggle automatic checking",callback:async()=>{this.settings.shouldAutoCheck=!this.settings.shouldAutoCheck,await this.saveSettings()}}),this.addCommand({id:"clear",name:"Clear suggestions",editorCallback:t=>{t.cm.dispatch({effects:[At.of(null)]})}}),this.addCommand({id:"next",name:"Jump to next suggestion",editorCheckCallback:(t,r)=>{let i=r.cm,u=r.posToOffset(r.getCursor()),o=null;if(i.state.field(Me).between(u+1,1/0,(a,c)=>{(!o||o.from>a)&&(o={from:a,to:c})}),t)return o!=null;o!=null&&i.dispatch({selection:{anchor:o.from,head:o.to}})}});for(let t=1;t<=qt;t++)this.addCommand(this.applySuggestionCommand(t))}applySuggestionCommand(t){return{id:`accept-${t}`,name:`Accept suggestion ${t} of the selected hint`,editorCheckCallback(r,i){var p,D,C;let u=i.cm,o=i.posToOffset(i.getCursor()),a=[];u.state.field(Me).between(o,o,(A,x,w)=>{a.push({from:A,to:x,value:w})});let c=a.length===1&&((C=(D=(p=a[0].value.spec)==null?void 0:p.underline)==null?void 0:D.replacements)==null?void 0:C.length)>=t;if(r)return c;if(!c)return;let{from:l,to:s,value:f}=a[0],h={from:l,to:s,insert:f.spec.underline.replacements[t-1]};u.dispatch({changes:[h],effects:[et.of({from:l,to:s})]})}}}registerMenuItems(){this.registerEvent(this.app.workspace.on("editor-menu",(t,r,i)=>{if(!this.settings.synonyms||!(this.settings.synonyms in Re))return;let u=r.cm,o=u.state.selection.main;if(o.empty)return;let a=u.state.sliceDoc(u.state.selection.main.from,u.state.selection.main.to);a.match(/[\s\.]/)||t.addItem(c=>{c.setTitle("Synonyms"),c.setIcon("square-stack"),c.onClick(async()=>{if(!this.settings.synonyms||!(this.settings.synonyms in Re))return;let l=u.state.doc.lineAt(o.from),s=l.text.slice(0,o.from-l.from).lastIndexOf(".")+1,f=l.text.slice(s),h=f.trimStart(),p=l.from+s+f.length-h.length,D={from:o.from-p,to:o.to-p};h=h.trimEnd();let C=h.indexOf(".");C!==-1&&(h=h.slice(0,C+1));let A=Re[this.settings.synonyms];if(!A)return;let x=await A.query(h,D);u.dispatch({effects:[Vt.of({text:a,from:o.from,to:o.to,title:"Synonyms",message:"",categoryId:"SYNONYMS",ruleId:"SYNONYMS",replacements:x})]})})})}))}setStatusBarReady(){this.isLoading=!1,this.statusBarText.empty(),this.statusBarText.createSpan({cls:"lt-status-bar-btn"},t=>{t.createSpan({cls:"lt-status-bar-check-icon",text:"Aa"})})}setStatusBarWorking(){this.isLoading||(this.isLoading=!0,this.statusBarText.empty(),this.statusBarText.createSpan({cls:["lt-status-bar-btn","lt-loading"]},t=>{(0,ce.setIcon)(t,"sync-small")}))}increaseSelection(t,r){let i=null;if(r.from>0){i=(0,Ni.syntaxTree)(t.state);let u=i.resolveInner(r.from,-1);u.type.name.startsWith("list-")?r.from=u.from:r.from=t.state.doc.lineAt(r.from).from}else r.from=0;return r.to<t.state.doc.length?r.to=t.state.doc.lineAt(r.to).to:r.to=t.state.doc.length,r}async runDetection(t,r){let i=t.state.selection.main;!r&&!i.empty&&(r={...i});let u=0,o="";if(r?(r=this.increaseSelection(t,r),u=r.from,o=t.state.sliceDoc(r.from,r.to)):o=t.state.sliceDoc(0),!o.trim())return;let a;try{this.setStatusBarWorking(),a=await Di(this.settings,u,o)}catch(l){console.error(l),l instanceof Error&&(this.pushLogs(l,this.settings),new ce.Notice(l.message,5e3));return}finally{this.setStatusBarReady()}let c=[];if(r?c.push(et.of(r)):c.push(At.of(null)),a){let l=this.app.vault.getConfig("spellcheckDictionary")||[];for(let s of a)s.to>t.state.doc.length||s.categoryId==="TYPOS"&&l.includes(s.text)||c.push(Vt.of(s))}c.length&&t.dispatch({effects:c})}async pushLogs(t,r){var u,o;let i=`${new Date().toLocaleString()}:
Error: '${t.message}'
Settings: ${JSON.stringify({...r,username:"REDACTED",apikey:"REDACTED"})}
`;(r.username||r.apikey)&&(i=i.replaceAll((u=r.username)!=null?u:"username","<<username>>").replaceAll((o=r.apikey)!=null?o:"apiKey","<<apikey>>")),this.logs.push(i),this.logs.length>10&&this.logs.shift()}async loadSettings(){this.settings=Object.assign({},Oi,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};
/*! Bundled license information:

is-buffer/index.js:
  (*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/
